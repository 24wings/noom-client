(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ES3k:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("dEAy"),c=n("UcqP");class o extends c.a{constructor(e){super(e),this.title="",this.nzModalRef=e.get(i.c)}close(e){this.nzModalRef.close()}success(e=!0){e?this.nzModalRef.close(e):this.close()}}},FCZ4:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var i=n("R0Ic");function c(){return Object(i.l)("routerTransition",[Object(i.i)("void",Object(i.j)({"padding-top":"20px",opacity:"0"})),Object(i.i)("*",Object(i.j)({"padding-top":"0px",opacity:"1"})),Object(i.k)(":enter",[Object(i.e)("0.33s ease-out",Object(i.j)({opacity:"1","padding-top":"0px"}))])])}function o(){return Object(i.l)("routerTransition",[Object(i.i)("void",Object(i.j)({"margin-top":"-10px",opacity:"0"})),Object(i.i)("*",Object(i.j)({"margin-top":"0px",opacity:"1"})),Object(i.k)(":enter",[Object(i.e)("0.2s ease-out",Object(i.j)({opacity:"1","margin-top":"0px"}))])])}},sXTw:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountModule",(function(){return it}));var i=n("3Pt+"),c=n("ofXK"),o=n("yjp6"),r=n("YirH"),a=n("yc4G"),s=n("PCNd"),d=n("pmn7"),l=n("tyNb"),p=n("M0ag"),u=n("UcqP"),g=n("LvDl"),m=n.n(g),h=n("wd/R"),f=n.n(h),b=n("fXoL"),_=n("yArM"),v=n("1M2P"),y=n("C2AL"),k=n("FwiY"),x=n("ES3k"),z=n("KALY"),w=n("nYR2"),S=n("ocnv"),C=n("B+r4"),K=n("EGpF"),J=n("PTRe"),T=n("OzZK"),I=n("RwU8"),M=n("kPyj");let P=(()=>{class e extends x.a{constructor(e,t){super(e),this._accountServie=t,this.tenancyName="",this.beforeTenancyName="",this.saving=!1,this.tenancyNameBuffer="",this.isSwitchToTenant=!1,this.submitButtonText=""}ngOnInit(){var e;this.isSwitchToTenant=!!(null===(e=this.appSession)||void 0===e?void 0:e.tenant),this.beforeTenancyName=this.tenancyName}switchToTenant(e){e.target.checked?this.tenancyName=this.tenancyNameBuffer:(this.tenancyNameBuffer=this.tenancyName,this.tenancyName=""),this.updateSubmitButtonText()}updateSubmitButtonText(){this.submitButtonText=this.l(this.isSwitchToTenant?"SwitchToTheTenant":"SwitchToTheHost")}handleChange(){if(this.saving=!0,this.isSwitchToTenant||(this.tenancyName=void 0),this.tenancyName===this.beforeTenancyName)return void this.close();if(!this.tenancyName||""===this.tenancyName)return abp.multiTenancy.setTenantIdCookie(void 0),this.close(),void location.reload();const e=new z.J;e.tenancyName=this.tenancyName,this._accountServie.isTenantAvailable(e).pipe(Object(w.a)(()=>{this.saving=!1})).subscribe(e=>{switch(e.state){case z.qb.Available:abp.multiTenancy.setTenantIdCookie(e.tenantId),this.success();break;case z.qb.InActive:this.message.warn(this.l("TenantIsNotActive",this.tenancyName));break;case z.qb.NotFound:this.message.warn(this.l("ThereIsNoTenantDefinedWithName{0}",this.tenancyName))}})}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.b))},e.\u0275cmp=b.yc({type:e,selectors:[["app-tenant-change-modal"]],inputs:{tenancyName:"tenancyName"},features:[b.lc],decls:31,vars:22,consts:[["nz-form","",3,"ngSubmit"],["changeTenantForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[1,"anticon","anticon-home"],[1,"col"],[1,"kt-switch","kt-switch--icon"],["checked","checked","name","SwitchToTenant","type","checkbox",3,"ngModel","nzCheckedChildren","nzUnCheckedChildren","change","ngModelChange"],["nz-row",""],["nz-col","","nzFor","TenancyName",3,"nzSm"],["nz-col","",3,"nzSm"],["nzPrefixIcon","anticon anticon-home"],["nz-input","","name","TenancyName","type","text",3,"ngModel","placeholder","disabled","ngModelChange"],[1,"text-sm","text-grey"],[1,"modal-footer"],["nz-button","","type","button",3,"nzType","disabled","click"],[1,"anticon","anticon-close-circle-o"],["nz-button","","type","submit",3,"nzType","disabled","nzLoading"],[1,"anticon","anticon-save"]],template:function(e,t){if(1&e&&(b.Kc(0,"form",0,1),b.Sc("ngSubmit",(function(){return t.handleChange()})),b.Kc(2,"div",2),b.Kc(3,"div",3),b.Fc(4,"i",4),b.zd(5),b.Jc(),b.Jc(),b.Kc(6,"fieldset"),b.Kc(7,"nz-form-item"),b.Kc(8,"nz-form-label"),b.zd(9),b.Wc(10,"localize"),b.Jc(),b.Kc(11,"nz-form-control"),b.Kc(12,"div",5),b.Kc(13,"span",6),b.Kc(14,"label"),b.Kc(15,"nz-switch",7),b.Sc("change",(function(e){return t.switchToTenant(e)}))("ngModelChange",(function(e){return t.isSwitchToTenant=e})),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Kc(16,"nz-form-item",8),b.Kc(17,"nz-form-label",9),b.zd(18),b.Jc(),b.Kc(19,"nz-form-control",10),b.Kc(20,"nz-input-group",11),b.Kc(21,"input",12),b.Sc("ngModelChange",(function(e){return t.tenancyName=e})),b.Jc(),b.Jc(),b.Kc(22,"span",13),b.zd(23),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Kc(24,"div",14),b.Kc(25,"button",15),b.Sc("click",(function(){return t.close()})),b.Fc(26,"i",16),b.zd(27),b.Jc(),b.Kc(28,"button",17),b.Fc(29,"i",18),b.zd(30),b.Jc(),b.Jc(),b.Jc()),2&e){const e=b.nd(1);b.oc(5),b.Bd(" ",t.l("ChangeTenant")," "),b.oc(4),b.Ad(b.Xc(10,20,"SwitchToTenant")),b.oc(6),b.dd("ngModel",t.isSwitchToTenant)("nzCheckedChildren",t.l("Yes"))("nzUnCheckedChildren",t.l("No")),b.oc(2),b.dd("nzSm",4),b.oc(1),b.Bd(" ",t.l("TenancyName")," "),b.oc(1),b.dd("nzSm",20),b.oc(2),b.dd("ngModel",t.tenancyName)("placeholder",t.l("TenancyName"))("disabled",!t.isSwitchToTenant),b.oc(2),b.Ad(t.l("LeaveEmptyToSwitchToHost")),b.oc(2),b.dd("nzType","default")("disabled",t.saving),b.oc(2),b.Bd(" ",t.l("Cancel")," "),b.oc(1),b.dd("nzType","primary")("disabled",!e.form.valid)("disabled",t.saving)("nzLoading",t.saving),b.oc(2),b.Bd(" ",t.l("Save")," ")}},directives:[i.v,i.n,i.o,S.b,C.c,S.c,C.a,S.d,S.a,K.a,i.m,i.p,J.c,J.b,i.c,T.a,I.a,y.a],pipes:[M.a],encapsulation:2}),e})();function A(e,t){if(1&e&&(b.Kc(0,"span",4),b.Kc(1,"strong"),b.zd(2),b.Jc(),b.Jc()),2&e){const e=b.Vc(2);b.ed("title",e.name),b.oc(2),b.Ad(e.tenancyName)}}function q(e,t){1&e&&(b.Kc(0,"span"),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e&&(b.oc(1),b.Ad(b.Xc(2,1,"NotSelected")))}function F(e,t){if(1&e){const e=b.Lc();b.Kc(0,"div"),b.Kc(1,"div",1),b.Kc(2,"span"),b.zd(3),b.Wc(4,"localize"),b.xd(5,A,3,2,"span",2),b.xd(6,q,3,3,"span",0),b.zd(7,"("),b.Kc(8,"a",3),b.Sc("click",(function(){return b.pd(e),b.Vc().showChangeModal()})),b.zd(9),b.Wc(10,"localize"),b.Jc(),b.zd(11,") "),b.Jc(),b.Jc(),b.Jc()}if(2&e){const e=b.Vc();b.oc(3),b.Bd(" ",b.Xc(4,4,"CurrentTenant"),": "),b.oc(2),b.dd("ngIf",e.tenancyName),b.oc(1),b.dd("ngIf",!e.tenancyName),b.oc(3),b.Ad(b.Xc(10,6,"Change"))}}let R=(()=>{class e extends u.a{constructor(e){super(e)}get isMultiTenancyEnabled(){return abp.multiTenancy.isEnabled}ngOnInit(){var e;(null===(e=this.appSession)||void 0===e?void 0:e.tenant)&&(this.tenancyName=this.appSession.tenant.tenancyName,this.name=this.appSession.tenant.name)}showChangeModal(){this.modalHelper.open(P,{tenancyName:this.tenancyName},"md").subscribe(e=>{e&&window.location.reload()})}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x))},e.\u0275cmp=b.yc({type:e,selectors:[["app-tenant-change"]],features:[b.lc],decls:1,vars:1,consts:[[4,"ngIf"],[1,"body","text-center"],[3,"title",4,"ngIf"],["href","javascript:;",3,"click"],[3,"title"]],template:function(e,t){1&e&&b.xd(0,F,12,8,"div",0),2&e&&b.dd("ngIf",t.isMultiTenancyEnabled)},directives:[c.m],pipes:[M.a],encapsulation:2}),e})();function L(e,t){1&e&&(b.Kc(0,"div"),b.Fc(1,"app-tenant-change"),b.Jc())}let N=(()=>{class e extends u.a{constructor(e,t){super(e),this._router=t,this.links=[{title:"\u5e2e\u52a9",href:""},{title:"\u9690\u79c1",href:""},{title:"\u6761\u6b3e",href:""}],this.currentYear=f()().year(),this.remoteServiceBaseUrl=p.a.remoteServiceBaseUrl,this.tenantChangeDisabledRoutes=["select-edition","buy","upgrade","extend","register-tenant","stripe-purchase","stripe-subscribe","stripe-update-subscription","paypal-purchase","stripe-payment-result","payment-completed","stripe-cancel-payment"]}static supportsTenancyNameInUrl(){return p.a.appBaseUrlFormat&&p.a.appBaseUrlFormat.indexOf(p.a.tenancyNamePlaceHolderInUrl)>=0}ngOnInit(){}showTenantChange(){return!!this._router.url&&!m.a.filter(this.tenantChangeDisabledRoutes,e=>this._router.url.indexOf("/account/"+e)>=0).length&&abp.multiTenancy.isEnabled&&!e.supportsTenancyNameInUrl()}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(l.k))},e.\u0275cmp=b.yc({type:e,selectors:[["app-account"]],features:[b.lc],decls:19,vars:2,consts:[[1,"container"],["btnClass","",1,"langs"],[1,"wrap"],[1,"top"],[1,"head"],["src","./assets/logo-color.svg",1,"logo"],[1,"title"],[1,"desc"],[4,"ngIf"],[3,"links"],["nz-icon","","nzType","copyright"],["href","//github.com/cipchk","target","_blank"]],template:function(e,t){1&e&&(b.Kc(0,"div",0),b.Fc(1,"pro-langs",1),b.Kc(2,"div",2),b.Kc(3,"div",3),b.Kc(4,"div",4),b.Fc(5,"img",5),b.Kc(6,"span",6),b.zd(7,"ng-alain pro"),b.Jc(),b.Jc(),b.Kc(8,"div",7),b.zd(9,"\u6b66\u6797\u4e2d\u6700\u6709\u5f71\u54cd\u529b\u7684\u300a\u8475\u82b1\u5b9d\u5178\u300b\uff1b\u6b32\u7ec3\u795e\u529f\uff0c\u6325\u5200\u81ea\u5bab"),b.Jc(),b.Jc(),b.xd(10,L,2,0,"div",8),b.Fc(11,"router-outlet"),b.Kc(12,"global-footer",9),b.zd(13," Copyright "),b.Fc(14,"i",10),b.zd(15," 2018 "),b.Kc(16,"a",11),b.zd(17,"\u5361\u8272"),b.Jc(),b.zd(18," \u51fa\u54c1 "),b.Jc(),b.Jc(),b.Jc()),2&e&&(b.oc(10),b.dd("ngIf",t.showTenantChange()),b.oc(2),b.dd("links",t.links))},directives:[_.a,c.m,l.o,v.a,y.a,k.a,R],styles:["[_nghost-%COMP%]     .container{display:flex;flex-direction:column;min-height:100%;background:#f0f2f5}[_nghost-%COMP%]     .langs{width:100%;height:40px;line-height:44px;text-align:right}[_nghost-%COMP%]     .langs .ant-dropdown-trigger{display:inline-block}[_nghost-%COMP%]     .langs .anticon{margin-top:24px;margin-right:24px;font-size:14px;vertical-align:top;cursor:pointer}[_nghost-%COMP%]     .wrap{flex:1;padding:32px 0}[_nghost-%COMP%]     .ant-form-item{margin-bottom:24px}@media (min-width:768px){[_nghost-%COMP%]     .container{background-image:url(https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg);background-repeat:no-repeat;background-position:center 110px;background-size:100%}[_nghost-%COMP%]     .wrap{padding:32px 0 24px}}[_nghost-%COMP%]     .top{text-align:center}[_nghost-%COMP%]     .header{height:44px;line-height:44px}[_nghost-%COMP%]     .header a{text-decoration:none}[_nghost-%COMP%]     .logo{height:44px;margin-right:16px}[_nghost-%COMP%]     .title{position:relative;color:rgba(0,0,0,.85);font-weight:600;font-size:33px;font-family:Myriad Pro,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}[_nghost-%COMP%]     .desc{margin-top:12px;margin-bottom:40px;color:rgba(0,0,0,.45);font-size:14px}"]}),e})();var O=n("UtOw"),E=n("Qj9z");let B=(()=>{class e{constructor(e,t,n){this._permissionChecker=e,this._router=t,this._sessionService=n}canActivate(e,t){return!(!e.queryParams.ss||"true"!==e.queryParams.ss)||!this._sessionService.user||(this._router.navigate([this.selectBestRoute()]),!1)}selectBestRoute(){return this._permissionChecker.isGranted("Pages.Administration.Host.Dashboard")?"/app/admin/hostDashboard":this._permissionChecker.isGranted("Pages.Tenant.Dashboard")?"/app/main/dashboard":"/app/notifications"}}return e.\u0275fac=function(t){return new(t||e)(b.Oc(O.a),b.Oc(l.k),b.Oc(E.a))},e.\u0275prov=b.Ac({token:e,factory:e.\u0275fac}),e})();var U=n("x2O3"),W=n("kgQi");let X=(()=>{class e extends U.a{constructor(e,t,n){super(e),this._accountService=t,this._router=n,this.model=new z.db,this.saving=!1}save(){this.saving=!0,this._accountService.sendEmailActivationLink(this.model).pipe(Object(w.a)(()=>{this.saving=!1})).subscribe(()=>{this.message.success(this.l("ActivationMailSentMessage"),this.l("MailSent")).then(()=>{this._router.navigate(["account/login"])})})}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.b),b.Ec(l.k))},e.\u0275cmp=b.yc({type:e,selectors:[["app-email-activation"]],features:[b.lc],decls:24,vars:21,consts:[[1,"kt-login__form",2,"display","flex","justify-content","center"],[1,"kt-login__title",2,"width","400px"],[2,"text-align","center"],["method","post","novalidate","",1,"kt-form",3,"ngSubmit"],["emailActivationForm","ngForm"],[1,"form-group"],["nz-input","","autocomplete","off","email","","maxlength","256","name","emailAddress","required","","type","email",1,"form-control","form-control-solid","placeholder-no-fix","input-ltr",3,"ngModel","placeholder","ngModelChange"],["emailAddressInput","ngModel"],[3,"formCtrl"],[1,"kt-login__actions",2,"display","flex","justify-content","space-between","margin-top","50px"],["nz-button","","routerLink","/account/login","type","button",1,"btn","btn-light","btn-elevate","kt-login__btn-secondary",3,"disabled"],[1,"fa","fa-arrow-left"],["nz-button","","type","submit",1,"btn","btn-primary","btn-elevate","kt-login__btn-primary",3,"nzLoading","disabled"],[1,"fa","fa-check"]],template:function(e,t){if(1&e&&(b.Kc(0,"div",0),b.Kc(1,"div",1),b.Kc(2,"h3",2),b.zd(3),b.Wc(4,"localize"),b.Jc(),b.Kc(5,"form",3,4),b.Sc("ngSubmit",(function(){return t.save()})),b.Kc(7,"p",2),b.zd(8),b.Wc(9,"localize"),b.Jc(),b.Kc(10,"div",5),b.Kc(11,"input",6,7),b.Sc("ngModelChange",(function(e){return t.model.emailAddress=e})),b.Wc(13,"localize"),b.Jc(),b.Fc(14,"validation-messages",8),b.Jc(),b.Kc(15,"div",9),b.Kc(16,"button",10),b.Fc(17,"i",11),b.zd(18),b.Wc(19,"localize"),b.Jc(),b.Kc(20,"button",12),b.Fc(21,"i",13),b.zd(22),b.Wc(23,"localize"),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc()),2&e){const e=b.nd(6),n=b.nd(12);b.dd("@routerTransition",void 0),b.oc(3),b.Bd(" ",b.Xc(4,11,"EmailActivation")," "),b.oc(5),b.Bd(" ",b.Xc(9,13,"SendEmailActivationLink_Information")," "),b.oc(3),b.fd("placeholder","",b.Xc(13,15,"EmailAddress")," *"),b.dd("ngModel",t.model.emailAddress),b.oc(3),b.dd("formCtrl",n),b.oc(2),b.dd("disabled",t.saving),b.oc(2),b.Bd(" ",b.Xc(19,17,"Back")," "),b.oc(2),b.dd("nzLoading",t.saving)("disabled",!e.form.valid),b.oc(2),b.Bd(" ",b.Xc(23,19,"Submit")," ")}},directives:[i.v,i.n,i.o,J.b,i.c,i.d,i.h,i.u,i.m,i.p,W.a,T.a,I.a,y.a,l.l],pipes:[M.a],encapsulation:2}),e})();var V=n("nS6G"),D=n("Tr3h"),j=n("ep+e"),H=n("wlJd"),Y=n("w3U3"),$=n("zvtx");let G=(()=>{class e extends z.z{constructor(e){super(),this.initialized=!1,this.name=e.name,this.clientId=e.clientId,this.additionalParams=e.additionalParams,this.icon=e.name.toLowerCase()}}return e.FACEBOOK="Facebook",e.GOOGLE="Google",e.MICROSOFT="Microsoft",e.OPENID="OpenIdConnect",e.WSFEDERATION="WsFederation",e})(),Z=(()=>{class e{constructor(e,t,n,i,c,o){this._tokenAuthService=e,this._router=t,this._utilsService=n,this._messageService=i,this._tokenService=c,this._logService=o,this.externalLoginProviders=[],this.clear()}authenticate(t,n,i){t=t||(()=>{}),this.authenticateModel.twoFactorRememberClientToken=this._utilsService.getCookieValue(e.twoFactorRememberClientTokenName),this.authenticateModel.singleSignIn=D.a.getSingleSignIn(),this.authenticateModel.returnUrl=D.a.getReturnUrl(),this.authenticateModel.captchaResponse=i,this._tokenAuthService.authenticate(this.authenticateModel).subscribe({next:e=>{this.processAuthenticateResult(e,n),t()},error:e=>{t()}})}init(){this.initExternalLoginProviders()}wsFederationLoginStatusChangeCallback(e,t,n,i){const c=this.wsFederationAuthenticationContext.getCachedUser(),o=new z.y;o.authProvider=G.WSFEDERATION,o.providerAccessCode=t,o.providerKey=c.profile.sub,o.singleSignIn=D.a.getSingleSignIn(),o.returnUrl=D.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(o).subscribe(e=>{if(e.waitingForActivation)return this._messageService.info("You have successfully registered. Waiting for activation!"),void this._router.navigate(["account/login"]);this.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,e.refreshToken,e.refreshTokenExpireInSeconds,!1,"",e.returnUrl)})}processAuthenticateResult(e,t){this.authenticateResult=e,e.shouldResetPassword?(this._router.navigate(["account/reset-password"],{queryParams:{userId:e.userId,tenantId:abp.session.tenantId,resetCode:e.passwordResetCode}}),this.clear()):e.requiresTwoFactorVerification?this._router.navigate(["account/send-code"]):e.accessToken?(e.returnUrl&&!t&&(t=e.returnUrl),this.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,e.refreshToken,e.refreshTokenExpireInSeconds,this.rememberMe,e.twoFactorRememberClientToken,t)):(this._logService.warn("Unexpected authenticateResult!"),this._router.navigate(["account/login"]))}login(t,n,i,c,o,r,a,s){const d=r?new Date((new Date).getTime()+1e3*i):void 0;if(this._tokenService.setToken(t,d),c&&r){const e=r?new Date((new Date).getTime()+1e3*o):void 0;this._tokenService.setRefreshToken(c,e)}if(this._utilsService.setCookieValue(V.a.authorization.encryptedAuthTokenName,n,d,abp.appPath),a&&this._utilsService.setCookieValue(e.twoFactorRememberClientTokenName,a,new Date((new Date).getTime()+31536e6),abp.appPath),s)location.href=s;else{let e=D.a.initialUrl;e.indexOf("/account")>0&&(e=V.a.appBaseUrl),location.href=e}}clear(){this.authenticateModel=new z.e,this.authenticateModel.rememberClient=!1,this.authenticateResult=null,this.rememberMe=!1}initExternalLoginProviders(e){this._tokenAuthService.getExternalAuthenticationProviders().subscribe(t=>{this.externalLoginProviders=g.map(t,e=>new G(e)),e&&e()})}getWsFederationConnectConfig(e){const t={clientId:e.clientId,popUp:!0,callback:this.wsFederationLoginStatusChangeCallback.bind(this)};return e.additionalParams.Tenant&&(t.tenant=e.additionalParams.Tenant),t}facebookLoginStatusChangeCallback(e){if("connected"===e.status){const t=new z.y;t.authProvider=G.FACEBOOK,t.providerAccessCode=e.authResponse.accessToken,t.providerKey=e.authResponse.userID,t.singleSignIn=D.a.getSingleSignIn(),t.returnUrl=D.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(t).subscribe(e=>{e.waitingForActivation?this._messageService.info("You have successfully registered. Waiting for activation!"):this.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,e.refreshToken,e.refreshTokenExpireInSeconds,!1,"",e.returnUrl)})}}googleLoginStatusChangeCallback(e){if(e){const e=new z.y;e.authProvider=G.GOOGLE,e.providerAccessCode=gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token,e.providerKey=gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId(),e.singleSignIn=D.a.getSingleSignIn(),e.returnUrl=D.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(e).subscribe(e=>{e.waitingForActivation?this._messageService.info("You have successfully registered. Waiting for activation!"):this.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,e.refreshToken,e.refreshTokenExpireInSeconds,!1,"",e.returnUrl)})}}microsoftLogin(){this._logService.debug(WL.getSession());const e=new z.y;e.authProvider=G.MICROSOFT,e.providerAccessCode=WL.getSession().access_token,e.providerKey=WL.getSession().id,e.singleSignIn=D.a.getSingleSignIn(),e.returnUrl=D.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(e).subscribe(e=>{e.waitingForActivation?this._messageService.info("You have successfully registered. Waiting for activation!"):this.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,e.refreshToken,e.refreshTokenExpireInSeconds,!1,"",e.returnUrl)})}}return e.twoFactorRememberClientTokenName="TwoFactorRememberClientToken",e.\u0275fac=function(t){return new(t||e)(b.Oc(z.wb),b.Oc(l.k),b.Oc(j.a),b.Oc(H.a),b.Oc(Y.a),b.Oc($.a))},e.\u0275prov=b.Ac({token:e,factory:e.\u0275fac}),e})();var Q=n("xDbU"),ee=n("oyxB"),te=n("TaO5"),ne=n("5vDB"),ie=n("Wfee");function ce(e,t){if(1&e&&b.Fc(0,"nz-alert",23),2&e){const e=b.Vc();b.dd("nzType","error")("nzMessage",e.error)("nzShowIcon",!0)}}function oe(e,t){if(1&e&&b.Fc(0,"validation-messages",24),2&e){b.Vc();const e=b.nd(9);b.dd("formCtrl",e)}}function re(e,t){if(1&e&&b.Fc(0,"validation-messages",24),2&e){b.Vc();const e=b.nd(15);b.dd("formCtrl",e)}}function ae(e,t){if(1&e&&(b.Kc(0,"span"),b.Kc(1,"a",25),b.zd(2),b.Jc(),b.Kc(3,"span"),b.zd(4," | "),b.Jc(),b.Jc()),2&e){const e=b.Vc();b.oc(2),b.Ad(e.l("CreateAnAccount"))}}function se(e,t){if(1&e&&(b.Kc(0,"span"),b.Kc(1,"a",26),b.zd(2),b.Jc(),b.Kc(3,"span"),b.zd(4," | "),b.Jc(),b.Jc()),2&e){const e=b.Vc();b.oc(2),b.Ad(e.l("NewTenant"))}}let de=(()=>{class e extends u.a{constructor(e,t,n,i,c){super(e),this.loginService=t,this._router=n,this._sessionService=i,this._sessionAppService=c,this.submitting=!1,this.error="",this.isMultiTenancyEnabled=this.multiTenancy.isEnabled,this.recaptchaSiteKey=V.a.recaptchaSiteKey}setLang(e){abp.utils.setCookieValue("Abp.Localization.CultureName",e),location.reload()}get multiTenancySideIsTenant(){return this._sessionService.tenantId>0}get isTenantSelfRegistrationAllowed(){return this.setting.getBoolean("App.TenantManagement.AllowSelfRegistration")}get isSelfRegistrationAllowed(){return!!this._sessionService.tenantId&&this.setting.getBoolean("App.UserManagement.AllowSelfRegistration")}get useCaptcha(){return this.setting.getBoolean("App.UserManagement.UseCaptchaOnLogin")}ngOnInit(){D.a.getReturnUrl(),D.a.getSingleSignIn(),this._sessionService.userId>0&&D.a.getReturnUrl()&&D.a.getSingleSignIn()&&this._sessionAppService.updateUserSignInToken().subscribe(e=>{const t=D.a.getReturnUrl();location.href=t+(t.indexOf("?")>=0?"&":"?")+"accessToken="+e.signInToken+"&userId="+e.encodedUserId+"&tenantId="+e.encodedTenantId})}login(){this.submitting=!0,this.loginService.authenticate(()=>{this.submitting=!1},null,this.captchaResponse)}captchaResolved(e){this.captchaResponse=e}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(Z),b.Ec(l.k),b.Ec(Q.a),b.Ec(z.hb))},e.\u0275cmp=b.yc({type:e,selectors:[["app-login"]],features:[b.lc],decls:33,vars:21,consts:[["method","post","novalidate","",1,"kt-form",3,"ngSubmit"],["loginForm","ngForm"],[1,"tabs",3,"nzAnimated"],[3,"nzTitle"],["class","mb-lg",3,"nzType","nzMessage","nzShowIcon",4,"ngIf"],[3,"nzErrorTip"],["nzSize","large","nzPrefixIcon","user"],["nz-input","","name","userNameOrEmailAddress","required","",3,"ngModel","placeholder","ngModelChange"],["userNameOrEmailAddressInput","ngModel"],[3,"formCtrl",4,"ngIf"],["nzErrorTip","'Please enter password!' "],["nzSize","large","nzPrefixIcon","lock"],["nz-input","","type","password","name","password","autocomplete","off","required","",3,"ngModel","placeholder","ngModelChange"],["passwordInput","ngModel"],[3,"nzSpan"],["nz-checkbox","","name","rememberMe",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-right",3,"nzSpan"],["routerLink","/account/forgot-password",1,"forgot"],["nz-button","","type","submit","nzType","primary","nzSize","large","nzBlock","",3,"disabled"],[3,"nzText"],[1,"body","text-center"],[4,"ngIf"],["routerLink","/account/email-activation"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[3,"formCtrl"],["routerLink","/account/register"],["routerLink","/account/select-edition"]],template:function(e,t){if(1&e&&(b.Kc(0,"form",0,1),b.Sc("ngSubmit",(function(){return t.login()})),b.Kc(2,"nz-tabset",2),b.Kc(3,"nz-tab",3),b.xd(4,ce,1,3,"nz-alert",4),b.Kc(5,"nz-form-item"),b.Kc(6,"nz-form-control",5),b.Kc(7,"nz-input-group",6),b.Kc(8,"input",7,8),b.Sc("ngModelChange",(function(e){return t.loginService.authenticateModel.userNameOrEmailAddress=e})),b.Jc(),b.xd(10,oe,1,1,"validation-messages",9),b.Jc(),b.Jc(),b.Jc(),b.Kc(11,"nz-form-item"),b.Kc(12,"nz-form-control",10),b.Kc(13,"nz-input-group",11),b.Kc(14,"input",12,13),b.Sc("ngModelChange",(function(e){return t.loginService.authenticateModel.password=e})),b.Jc(),b.xd(16,re,1,1,"validation-messages",9),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Kc(17,"nz-form-item"),b.Kc(18,"nz-col",14),b.Kc(19,"label",15),b.Sc("ngModelChange",(function(e){return t.loginService.rememberMe=e})),b.zd(20),b.Jc(),b.Jc(),b.Kc(21,"nz-col",16),b.Kc(22,"a",17),b.zd(23),b.Jc(),b.Jc(),b.Jc(),b.Kc(24,"nz-form-item"),b.Kc(25,"button",18),b.zd(26),b.Jc(),b.Jc(),b.Jc(),b.Fc(27,"nz-divider",19),b.Kc(28,"div",20),b.xd(29,ae,5,1,"span",21),b.xd(30,se,5,1,"span",21),b.Kc(31,"a",22),b.zd(32),b.Jc(),b.Jc()),2&e){const e=b.nd(1),n=b.nd(9),i=b.nd(15);b.oc(2),b.dd("nzAnimated",!1),b.oc(1),b.dd("nzTitle",t.l("LogIn")),b.oc(1),b.dd("ngIf",t.error),b.oc(2),b.dd("nzErrorTip","Please enter mobile number!"),b.oc(2),b.dd("ngModel",t.loginService.authenticateModel.userNameOrEmailAddress)("placeholder",t.l("UserNameOrEmail")),b.oc(2),b.dd("ngIf",!n.touched),b.oc(4),b.dd("ngModel",t.loginService.authenticateModel.password)("placeholder",t.l("Password")),b.oc(2),b.dd("ngIf",!i.touched),b.oc(2),b.dd("nzSpan",12),b.oc(1),b.dd("ngModel",t.loginService.rememberMe),b.oc(1),b.Bd(" ",t.l("RememberMe"),""),b.oc(1),b.dd("nzSpan",12),b.oc(2),b.Ad(t.l("ForgotPassword")),b.oc(2),b.dd("disabled",!e.form.valid),b.oc(1),b.Bd(" ",t.l("LogIn")," "),b.oc(1),b.dd("nzText",t.l("LoginWith")),b.oc(2),b.dd("ngIf",t.isSelfRegistrationAllowed),b.oc(1),b.dd("ngIf",!t.multiTenancySideIsTenant&&t.isTenantSelfRegistrationAllowed),b.oc(2),b.Ad(t.l("EmailActivation"))}},directives:[i.v,i.n,i.o,ee.b,ee.a,c.m,C.c,S.c,C.a,S.a,J.c,J.b,i.c,i.u,i.m,i.p,te.a,l.m,T.a,I.a,y.a,ne.a,ie.a,W.a],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     .ant-tabs .ant-tabs-bar{margin-bottom:24px;text-align:center;border-bottom:0}[_nghost-%COMP%]     .ant-tabs-tab{font-size:16px;line-height:24px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input:not(:first-child){padding-left:4px}[_nghost-%COMP%]     .icon{margin-left:16px;color:rgba(0,0,0,.2);font-size:24px;vertical-align:middle;cursor:pointer;transition:color .3s}[_nghost-%COMP%]     .icon:hover{color:#1890ff}[_nghost-%COMP%]     .other{margin-top:24px;line-height:22px;text-align:left}[_nghost-%COMP%]     .other nz-tooltip{vertical-align:middle}[_nghost-%COMP%]     .other .register{float:right}"]}),e})();var le=n("FCZ4"),pe=n("WroF");let ue=(()=>{class e extends U.a{constructor(e,t,n,i){super(e),this._accountService=t,this._appUrlService=n,this._router=i,this.model=new z.eb,this.saving=!1}save(){this.saving=!0,this._accountService.sendPasswordResetCode(this.model).pipe(Object(w.a)(()=>{this.saving=!1})).subscribe(()=>{this.message.success(this.l("PasswordResetMailSentMessage"),this.l("MailSent")).then(()=>{this._router.navigate(["account/login"])})})}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.b),b.Ec(pe.a),b.Ec(l.k))},e.\u0275cmp=b.yc({type:e,selectors:[["ng-component"]],features:[b.lc],decls:25,vars:21,consts:[[1,"kt-login__form",2,"display","flex","justify-content","center"],[1,"kt-login__title",2,"width","400px"],[1,"m-0",2,"text-align","center"],["method","post","novalidate","",1,"kt-form",3,"ngSubmit"],["forgotPassForm","ngForm"],[2,"text-align","center"],[1,"form-group"],["autoFocus","","autocomplete","off","nz-input","","email","","maxlength","256","name","emailAddress","required","","type","text",1,"form-control","placeholder-no-fix",3,"ngModel","placeholder","ngModelChange"],["emailAddressInput","ngModel"],[3,"formCtrl"],[2,"margin-top","50px"],[1,"kt-login__actions",2,"display","flex","justify-content","space-between","width","100%"],["nz-button","","routerLink","/account/login","type","button",1,"btn","btn-light","btn-elevate","kt-login__btn-secondary",3,"disabled"],[1,"fa","fa-arrow-left"],["nz-button","","nzType","primary","type","submit",3,"nzLoading","disabled"],[1,"fa","fa-check"]],template:function(e,t){if(1&e&&(b.Kc(0,"div",0),b.Kc(1,"div",1),b.Kc(2,"h3",2),b.zd(3),b.Wc(4,"localize"),b.Jc(),b.Kc(5,"form",3,4),b.Sc("ngSubmit",(function(){return t.save()})),b.Kc(7,"p",5),b.zd(8),b.Wc(9,"localize"),b.Jc(),b.Kc(10,"div",6),b.Kc(11,"input",7,8),b.Sc("ngModelChange",(function(e){return t.model.emailAddress=e})),b.Wc(13,"localize"),b.Jc(),b.Fc(14,"validation-messages",9),b.Jc(),b.Kc(15,"nz-form-item",10),b.Kc(16,"div",11),b.Kc(17,"button",12),b.Fc(18,"i",13),b.zd(19),b.Wc(20,"localize"),b.Jc(),b.Kc(21,"button",14),b.Fc(22,"i",15),b.zd(23),b.Wc(24,"localize"),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc()),2&e){const e=b.nd(6),n=b.nd(12);b.dd("@routerTransition",void 0),b.oc(3),b.Bd(" ",b.Xc(4,11,"ForgotPassword")," "),b.oc(5),b.Bd(" ",b.Xc(9,13,"SendPasswordResetLink_Information")," "),b.oc(3),b.fd("placeholder","",b.Xc(13,15,"EmailAddress")," *"),b.dd("ngModel",t.model.emailAddress),b.oc(3),b.dd("formCtrl",n),b.oc(3),b.dd("disabled",t.saving),b.oc(2),b.Bd(" ",b.Xc(20,17,"Back")," "),b.oc(2),b.dd("nzLoading",t.saving)("disabled",!e.form.valid),b.oc(2),b.Bd(" ",b.Xc(24,19,"Submit")," ")}},directives:[i.v,i.n,i.o,J.b,i.c,i.d,i.h,i.u,i.m,i.p,W.a,C.c,S.c,T.a,I.a,y.a,l.l],pipes:[M.a],encapsulation:2,data:{animation:[Object(le.a)()]}}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Ac({token:e,factory:e.\u0275fac}),e})();function me(e,t){if(1&e&&(b.Kc(0,"div",5),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc();b.oc(1),b.Bd(" ",b.Yc(2,1,"ConfirmationMailSentPleaseClickLinkInTheEmail",e.model.emailAddress)," ")}}function he(e,t){1&e&&(b.Kc(0,"div",6),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e&&(b.oc(1),b.Bd(" ",b.Xc(2,1,"YourAccountIsWaitingToBeActivatedByAdmin")," "))}function fe(e,t){if(1&e&&(b.Kc(0,"div",7),b.zd(1),b.Wc(2,"localize"),b.Fc(3,"br"),b.Kc(4,"a",8),b.zd(5),b.Jc(),b.Jc()),2&e){const e=b.Vc();b.oc(1),b.Bd(" ",b.Xc(2,3,"TenantRegistrationLoginInfo"),""),b.oc(3),b.ed("href",e.tenantUrl,b.rd),b.oc(1),b.Ad(e.tenantUrl)}}let be=(()=>{class e extends U.a{constructor(e,t,n,i){super(e),this._router=t,this._appUrlService=n,this._tenantRegistrationHelper=i,this.model=new z.Z,this.saving=!1}ngOnInit(){this._tenantRegistrationHelper.registrationResult?(this.model=this._tenantRegistrationHelper.registrationResult,abp.multiTenancy.setTenantIdCookie(this.model.tenantId),this.tenantUrl=this._appUrlService.getAppRootUrlOfTenant(this.model.tenancyName)):this._router.navigate(["account/login"])}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(l.k),b.Ec(pe.a),b.Ec(ge))},e.\u0275cmp=b.yc({type:e,selectors:[["ng-component"]],features:[b.lc],decls:29,vars:23,consts:[[1,"kt-login__form"],[1,"text-muted"],["class","alert alert-warning","role","alert",4,"ngIf"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","alert alert-secondary","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-warning"],["role","alert",1,"alert","alert-primary"],["role","alert",1,"alert","alert-secondary"],[3,"href"]],template:function(e,t){1&e&&(b.Kc(0,"div",0),b.Kc(1,"h4"),b.zd(2),b.Wc(3,"localize"),b.Jc(),b.Kc(4,"ul"),b.Kc(5,"li"),b.Kc(6,"span",1),b.zd(7),b.Wc(8,"localize"),b.Jc(),b.zd(9),b.Jc(),b.Kc(10,"li"),b.Kc(11,"span",1),b.zd(12),b.Wc(13,"localize"),b.Jc(),b.zd(14),b.Jc(),b.Kc(15,"li"),b.Kc(16,"span",1),b.zd(17),b.Wc(18,"localize"),b.Jc(),b.zd(19),b.Jc(),b.Kc(20,"li"),b.Kc(21,"span",1),b.zd(22),b.Wc(23,"localize"),b.Jc(),b.zd(24),b.Jc(),b.Jc(),b.Kc(25,"div"),b.xd(26,me,3,4,"div",2),b.xd(27,he,3,3,"div",3),b.xd(28,fe,6,5,"div",4),b.Jc(),b.Jc()),2&e&&(b.dd("@routerTransition",void 0),b.oc(2),b.Ad(b.Xc(3,13,"SuccessfullyRegistered")),b.oc(5),b.Bd("",b.Xc(8,15,"TenancyName"),":"),b.oc(2),b.Bd(" ",t.model.tenancyName," "),b.oc(3),b.Bd("",b.Xc(13,17,"TenantName"),":"),b.oc(2),b.Bd(" ",t.model.name," "),b.oc(3),b.Bd("",b.Xc(18,19,"UserName"),":"),b.oc(2),b.Bd(" ",t.model.userName," "),b.oc(3),b.Bd("",b.Xc(23,21,"EmailAddress"),":"),b.oc(2),b.Bd(" ",t.model.emailAddress," "),b.oc(2),b.dd("ngIf",t.model.isEmailConfirmationRequired),b.oc(1),b.dd("ngIf",!t.model.isActive),b.oc(1),b.dd("ngIf",t.tenantUrl))},directives:[c.m],pipes:[M.a],encapsulation:2,data:{animation:[Object(le.a)()]}}),e})();var _e=n("JIr8");class ve extends z.Y{}var ye=n("gGBz"),ke=n("KIW0");function xe(e,t){if(1&e&&(b.Kc(0,"h4",30),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc();b.oc(1),b.Cd("",b.Xc(2,2,"Edition"),": ",e.model.edition.displayName,"")}}function ze(e,t){1&e&&(b.Kc(0,"div"),b.Kc(1,"span",31),b.zd(2),b.Wc(3,"localize"),b.Jc(),b.Jc()),2&e&&(b.oc(2),b.Ad(b.Xc(3,1,"TenantName_Regex_Description")))}function we(e,t){if(1&e&&(b.Kc(0,"ul",16),b.Kc(1,"li",32),b.zd(2),b.Wc(3,"localize"),b.Jc(),b.Kc(4,"li",32),b.zd(5),b.Wc(6,"localize"),b.Jc(),b.Kc(7,"li",32),b.zd(8),b.Wc(9,"localize"),b.Jc(),b.Kc(10,"li",32),b.zd(11),b.Wc(12,"localize"),b.Jc(),b.Kc(13,"li",32),b.zd(14),b.Wc(15,"localize"),b.Jc(),b.Jc()),2&e){const e=b.Vc(),t=b.nd(33);b.oc(1),b.dd("hidden",!t.errors.requireDigit),b.oc(1),b.Ad(b.Xc(3,10,"PasswordComplexity_RequireDigit_Hint")),b.oc(2),b.dd("hidden",!t.errors.requireLowercase),b.oc(1),b.Bd("",b.Xc(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),b.oc(2),b.dd("hidden",!t.errors.requireUppercase),b.oc(1),b.Bd("",b.Xc(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),b.oc(2),b.dd("hidden",!t.errors.requireNonAlphanumeric),b.oc(1),b.Bd(" ",b.Xc(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint"),""),b.oc(2),b.dd("hidden",!t.errors.requiredLength),b.oc(1),b.Bd(" ",b.Yc(15,18,"PasswordComplexity_RequiredLength_Hint",e.passwordComplexitySetting.requiredLength),"")}}function Se(e,t){if(1&e&&(b.Kc(0,"ul",16),b.Kc(1,"li",32),b.zd(2),b.Wc(3,"localize"),b.Jc(),b.Kc(4,"li",32),b.zd(5),b.Wc(6,"localize"),b.Jc(),b.Kc(7,"li",32),b.zd(8),b.Wc(9,"localize"),b.Jc(),b.Kc(10,"li",32),b.zd(11),b.Wc(12,"localize"),b.Jc(),b.Kc(13,"li",32),b.zd(14),b.Wc(15,"localize"),b.Jc(),b.Kc(16,"li",32),b.zd(17),b.Wc(18,"localize"),b.Jc(),b.Jc()),2&e){const e=b.Vc(),t=b.nd(39);b.oc(1),b.dd("hidden",!t.errors.requireDigit),b.oc(1),b.Bd("",b.Xc(3,12,"PasswordComplexity_RequireDigit_Hint")," "),b.oc(2),b.dd("hidden",!t.errors.requireLowercase),b.oc(1),b.Bd(" ",b.Xc(6,14,"PasswordComplexity_RequireLowercase_Hint"),""),b.oc(2),b.dd("hidden",!t.errors.requireUppercase),b.oc(1),b.Bd(" ",b.Xc(9,16,"PasswordComplexity_RequireUppercase_Hint"),""),b.oc(2),b.dd("hidden",!t.errors.requireNonAlphanumeric),b.oc(1),b.Bd(" ",b.Xc(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint"),""),b.oc(2),b.dd("hidden",!t.errors.requiredLength),b.oc(1),b.Bd(" ",b.Yc(15,20,"PasswordComplexity_RequiredLength_Hint",e.passwordComplexitySetting.requiredLength),""),b.oc(2),b.dd("hidden",t.valid),b.oc(1),b.Ad(b.Xc(18,23,"PasswordsDontMatch"))}}function Ce(e,t){1&e&&(b.Kc(0,"p",33),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e&&(b.oc(1),b.Bd(" ",b.Xc(2,1,"Captcha_Hint")," "))}function Ke(e,t){1&e&&b.Fc(0,"div",34)}let Je=(()=>{class e extends U.a{constructor(e,t,n,i,c,o){super(e),this._tenantRegistrationService=t,this._router=n,this._profileService=i,this._tenantRegistrationHelper=c,this._activatedRoute=o,this.model=new ve,this.passwordComplexitySetting=new z.R,this.subscriptionStartType=z.ob,this.paymentPeriodType=z.T,this.selectedPaymentPeriodType=z.T.Monthly,this.subscriptionPaymentGateway=z.mb,this.paymentId="",this.recaptchaSiteKey=V.a.recaptchaSiteKey,this.saving=!1}get useCaptcha(){return this.setting.getBoolean("App.TenantManagement.UseCaptchaOnRegistration")}ngOnInit(){this.model.editionId=this._activatedRoute.snapshot.queryParams.editionId,this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.model.editionId&&(this.model.subscriptionStartType=this._activatedRoute.snapshot.queryParams.subscriptionStartType),null==this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe(e=>{this.passwordComplexitySetting=e.setting}):this._router.navigate(["account/login"])}ngAfterViewInit(){this.model.editionId&&this._tenantRegistrationService.getEdition(this.model.editionId).subscribe(e=>{this.model.edition=e})}save(){!this.useCaptcha||this.model.captchaResponse?(this.saving=!0,this._tenantRegistrationService.registerTenant(this.model).pipe(Object(w.a)(()=>{this.saving=!1})).pipe(Object(_e.a)((e,t)=>{})).subscribe(e=>{this.notify.success(this.l("SuccessfullyRegistered")),this._tenantRegistrationHelper.registrationResult=e,this.model.subscriptionStartType===z.ob.Paid?this._router.navigate(["account/buy"],{queryParams:{tenantId:e.tenantId,editionId:this.model.editionId,subscriptionStartType:this.model.subscriptionStartType,editionPaymentType:this.editionPaymentType}}):this._router.navigate(["account/register-tenant-result"])})):this.message.warn(this.l("CaptchaCanNotBeEmpty"))}captchaResolved(e){this.model.captchaResponse=e}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.sb),b.Ec(l.k),b.Ec(z.W),b.Ec(ge),b.Ec(l.a))},e.\u0275cmp=b.yc({type:e,selectors:[["ng-component"]],features:[b.lc],decls:54,vars:59,consts:[[1,"kt-login__form"],[1,"kt-login__title"],["class","text-center",4,"ngIf"],[1,"kt-separator","kt-separator--border-dashed"],["novalidate","","role","form",1,"kt-form","mt-2",3,"submit"],["registerForm","ngForm"],[1,"mt-2"],[1,"form-group"],["nz-input","","autoFocus","","maxlength","64","name","tenancyName","pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$","required","","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["tenancyName","ngModel"],[4,"ngIf"],["nz-input","","maxlength","128","name","Name","required","","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["nz-input","","email","","maxlength","256","name","adminEmailAddress","required","","type","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["adminEmailAddressInput","ngModel"],[1,"form-text","text-danger"],["nz-input","","name","Password","pPassword","","required","","type","password","validateEqual","PasswordRepeat","reverse","true",1,"form-control",3,"ngModel","requireDigit","requireLowercase","requireNonAlphanumeric","requireUppercase","requiredLength","placeholder","ngModelChange"],["Password","ngModel"],[1,"form-group",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["name","PasswordRepeat","required","","type","password","validateEqual","Password",1,"form-control",3,"ngModel","requireDigit","requireLowercase","requireNonAlphanumeric","requireUppercase","requiredLength","placeholder"],["PasswordRepeat","ngModel"],["class","mt-2 form-text text-muted",4,"ngIf"],["class","form-group mt-2 text-center captcha-container",4,"ngIf"],[1,"kt-login__actions"],["routerLink","/account/login","type","button",1,"btn","btn-light","btn-elevate","kt-login__btn-secondary",3,"disabled"],[1,"fa","fa-arrow-left"],["nz-button","","nzType","primary","type","submit",1,"btn","btn-primary","btn-elevate","kt-login__btn-primary",3,"nzLoading","disabled"],[1,"fa","fa-check"],[1,"text-center"],[1,"form-text","text-danger","text-left"],[3,"hidden"],[1,"mt-2","form-text","text-muted"],[1,"form-group","mt-2","text-center","captcha-container"]],template:function(e,t){if(1&e&&(b.Kc(0,"div",0),b.Kc(1,"div",1),b.Kc(2,"h3"),b.zd(3),b.Wc(4,"localize"),b.Jc(),b.xd(5,xe,3,4,"h4",2),b.Fc(6,"div",3),b.Kc(7,"form",4,5),b.Sc("submit",(function(){return t.save()})),b.Kc(9,"h5",6),b.zd(10),b.Wc(11,"localize"),b.Jc(),b.Kc(12,"div",7),b.Kc(13,"input",8,9),b.Sc("ngModelChange",(function(e){return t.model.tenancyName=e})),b.Wc(15,"localize"),b.Jc(),b.xd(16,ze,4,3,"div",10),b.Jc(),b.Kc(17,"div",7),b.Kc(18,"input",11,12),b.Sc("ngModelChange",(function(e){return t.model.name=e})),b.Wc(20,"localize"),b.Jc(),b.Fc(21,"validation-messages",13),b.Jc(),b.Kc(22,"h5",6),b.zd(23),b.Wc(24,"localize"),b.Jc(),b.Kc(25,"div",7),b.Kc(26,"input",14,15),b.Sc("ngModelChange",(function(e){return t.model.adminEmailAddress=e})),b.Wc(28,"localize"),b.Jc(),b.Kc(29,"span",16),b.Fc(30,"validation-messages",13),b.Jc(),b.Jc(),b.Kc(31,"div",7),b.Kc(32,"input",17,18),b.Sc("ngModelChange",(function(e){return t.model.adminPassword=e})),b.Wc(34,"localize"),b.Jc(),b.Kc(35,"div",19),b.xd(36,we,16,21,"ul",20),b.Jc(),b.Jc(),b.Kc(37,"div",7),b.Fc(38,"input",21,22),b.Wc(40,"localize"),b.Kc(41,"div",19),b.xd(42,Se,19,25,"ul",20),b.Jc(),b.Jc(),b.xd(43,Ce,3,3,"p",23),b.xd(44,Ke,1,0,"div",24),b.Kc(45,"div",25),b.Kc(46,"button",26),b.Fc(47,"i",27),b.zd(48),b.Wc(49,"localize"),b.Jc(),b.Kc(50,"button",28),b.Fc(51,"i",29),b.zd(52),b.Wc(53,"localize"),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc()),2&e){const e=b.nd(8),n=b.nd(14),i=b.nd(19),c=b.nd(27),o=b.nd(33),r=b.nd(39);b.dd("@routerTransition",void 0),b.oc(3),b.Bd(" ",b.Xc(4,39,"TenantSignUp")," "),b.oc(2),b.dd("ngIf",t.model.edition),b.oc(5),b.Bd(" ",b.Xc(11,41,"TenantInformations")," "),b.oc(3),b.fd("placeholder","",b.Xc(15,43,"TenancyName")," *"),b.dd("ngModel",t.model.tenancyName),b.oc(3),b.dd("ngIf",!n.valid&&!n.pristine),b.oc(2),b.fd("placeholder","",b.Xc(20,45,"TenantName")," *"),b.dd("ngModel",t.model.name),b.oc(3),b.dd("formCtrl",i),b.oc(2),b.Bd(" ",b.Xc(24,47,"AccountSettings")," "),b.oc(3),b.fd("placeholder","",b.Xc(28,49,"AdminEmailAddress")," *"),b.dd("ngModel",t.model.adminEmailAddress),b.oc(4),b.dd("formCtrl",c),b.oc(2),b.ed("placeholder",b.Xc(34,51,"AdminPassword")),b.dd("ngModel",t.model.adminPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requiredLength",t.passwordComplexitySetting.requiredLength),b.oc(3),b.dd("hidden",e.form.valid||e.form.pristine),b.oc(1),b.dd("ngIf",o.errors),b.oc(2),b.ed("placeholder",b.Xc(40,53,"PasswordRepeat")),b.dd("ngModel",t.model.passwordRepeat)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requiredLength",t.passwordComplexitySetting.requiredLength),b.oc(3),b.dd("hidden",e.form.valid||e.form.pristine),b.oc(1),b.dd("ngIf",r.errors),b.oc(1),b.dd("ngIf",t.useCaptcha),b.oc(1),b.dd("ngIf",t.useCaptcha),b.oc(2),b.dd("disabled",t.saving),b.oc(2),b.Bd(" ",b.Xc(49,55,"Back")," "),b.oc(2),b.dd("nzLoading",t.saving)("disabled",!e.form.valid),b.oc(2),b.Bd(" ",b.Xc(53,57,"Submit")," ")}},directives:[c.m,i.v,i.n,i.o,J.b,i.c,i.h,i.r,i.u,i.m,i.p,W.a,i.d,ye.a,ke.a,l.l,T.a,I.a,y.a],pipes:[M.a],encapsulation:2,data:{animation:[Object(le.a)()]}}),e})();class Te extends z.X{}function Ie(e,t){if(1&e&&(b.Kc(0,"ul",27),b.Kc(1,"li",28),b.zd(2),b.Jc(),b.Kc(3,"li",28),b.zd(4),b.Jc(),b.Kc(5,"li",28),b.zd(6),b.Jc(),b.Kc(7,"li",28),b.zd(8),b.Jc(),b.Kc(9,"li",28),b.zd(10),b.Jc(),b.Jc()),2&e){const e=b.Vc(),t=b.nd(24);b.oc(1),b.dd("hidden",!t.errors.requireDigit),b.oc(1),b.Ad(e.l("PasswordComplexity_RequireDigit_Hint")),b.oc(1),b.dd("hidden",!t.errors.requireLowercase),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireLowercase_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requireUppercase),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireUppercase_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requireNonAlphanumeric),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireNonAlphanumeric_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requiredLength),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequiredLength_Hint",e.passwordComplexitySetting.requiredLength)," ")}}function Me(e,t){if(1&e&&(b.Kc(0,"ul",27),b.Kc(1,"li",28),b.zd(2),b.Jc(),b.Kc(3,"li",28),b.zd(4),b.Jc(),b.Kc(5,"li",28),b.zd(6),b.Jc(),b.Kc(7,"li",28),b.zd(8),b.Jc(),b.Kc(9,"li",28),b.zd(10),b.Jc(),b.Kc(11,"li",28),b.zd(12),b.Jc(),b.Jc()),2&e){const e=b.Vc(),t=b.nd(30);b.oc(1),b.dd("hidden",!t.errors.requireDigit),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireDigit_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requireLowercase),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireLowercase_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requireUppercase),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireUppercase_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requireNonAlphanumeric),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequireNonAlphanumeric_Hint")," "),b.oc(1),b.dd("hidden",!t.errors.requiredLength),b.oc(1),b.Bd(" ",e.l("PasswordComplexity_RequiredLength_Hint",e.passwordComplexitySetting.requiredLength)," "),b.oc(1),b.dd("hidden",t.valid),b.oc(1),b.Ad(e.l("PasswordsDontMatch"))}}function Pe(e,t){if(1&e&&(b.Kc(0,"p",29),b.zd(1),b.Jc()),2&e){const e=b.Vc();b.oc(1),b.Bd(" ",e.l("Captcha_Hint")," ")}}function Ae(e,t){1&e&&b.Fc(0,"div",30)}function qe(e,t){1&e&&(b.Kc(0,"h2",22),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e&&(b.oc(1),b.Bd(" ",b.Xc(2,1,"Free")," "))}function Fe(e,t){if(1&e&&(b.Kc(0,"span",24),b.zd(1),b.Wc(2,"localize"),b.Fc(3,"br"),b.Jc()),2&e){const e=b.Vc(2).$implicit,t=b.Vc();b.oc(1),b.Dd(" ",t.appSession.application.currencySign," ",e.edition.dailyPrice," ",b.Xc(2,3,"PerDay")," ")}}function Re(e,t){if(1&e&&(b.Kc(0,"span",24),b.zd(1),b.Wc(2,"localize"),b.Fc(3,"br"),b.Jc()),2&e){const e=b.Vc(2).$implicit,t=b.Vc();b.oc(1),b.Dd(" ",t.appSession.application.currencySign," ",e.edition.weeklyPrice," ",b.Xc(2,3,"PerWeek")," ")}}function Le(e,t){if(1&e&&(b.Kc(0,"span",24),b.zd(1),b.Wc(2,"localize"),b.Fc(3,"br"),b.Jc()),2&e){const e=b.Vc(2).$implicit,t=b.Vc();b.oc(1),b.Dd(" ",t.appSession.application.currencySign," ",e.edition.monthlyPrice," ",b.Xc(2,3,"PerMonth")," ")}}function Ne(e,t){if(1&e&&(b.Kc(0,"span",24),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc(2).$implicit,t=b.Vc();b.oc(1),b.Dd(" ",t.appSession.application.currencySign," ",e.edition.annualPrice," ",b.Xc(2,3,"PerYear")," ")}}function Oe(e,t){if(1&e&&(b.Kc(0,"h2",22),b.xd(1,Fe,4,5,"span",23),b.xd(2,Re,4,5,"span",23),b.xd(3,Le,4,5,"span",23),b.xd(4,Ne,3,5,"span",23),b.Jc()),2&e){const e=b.Vc().$implicit;b.oc(1),b.dd("ngIf",e.edition.dailyPrice>0),b.oc(1),b.dd("ngIf",e.edition.weeklyPrice>0),b.oc(1),b.dd("ngIf",e.edition.monthlyPrice>0),b.oc(1),b.dd("ngIf",e.edition.annualPrice>0)}}function Ee(e,t){1&e&&b.Fc(0,"i",28)}function Be(e,t){1&e&&b.Fc(0,"i",29)}function Ue(e,t){if(1&e&&(b.Ic(0),b.xd(1,Ee,1,0,"i",26),b.xd(2,Be,1,0,"i",27),b.Hc()),2&e){const e=b.Vc().$implicit,t=b.Vc().$implicit,n=b.Vc();b.oc(1),b.dd("ngIf",n.featureEnabledForEdition(e,t)),b.oc(1),b.dd("ngIf",!n.featureEnabledForEdition(e,t))}}function We(e,t){if(1&e&&(b.Ic(0),b.zd(1),b.Hc()),2&e){const e=b.Vc().$implicit;b.oc(1),b.Bd("",e.displayName," ")}}function Xe(e,t){1&e&&(b.Ic(0),b.Fc(1,"i",28),b.Hc())}function Ve(e,t){if(1&e&&(b.Ic(0),b.zd(1),b.Hc()),2&e){const e=b.Vc().$implicit,t=b.Vc().$implicit,n=b.Vc();b.oc(1),b.Cd(" ",e.displayName,":",n.getFeatureValueForEdition(e,t)," ")}}function De(e,t){if(1&e&&(b.Ic(0),b.xd(1,Ue,3,2,"ng-container",25),b.xd(2,We,2,1,"ng-container",25),b.xd(3,Xe,2,0,"ng-container",25),b.xd(4,Ve,2,2,"ng-container",25),b.Fc(5,"br"),b.Hc()),2&e){const e=t.$implicit,n=b.Vc(2);b.oc(1),b.dd("ngIf",n.isTrueFalseFeature(e)),b.oc(1),b.dd("ngIf",n.isTrueFalseFeature(e)),b.oc(1),b.dd("ngIf",!n.isTrueFalseFeature(e)),b.oc(1),b.dd("ngIf",!n.isTrueFalseFeature(e))}}function je(e,t){if(1&e){const e=b.Lc();b.Kc(0,"button",30),b.Sc("click",(function(){b.pd(e);const t=b.Vc().$implicit,n=b.Vc();return n.upgrade(t.edition,n.editionPaymentType.Upgrade)})),b.zd(1),b.Wc(2,"localize"),b.Jc()}2&e&&(b.oc(1),b.Bd(" ",b.Xc(2,1,"Upgrade")," "))}const He=function(e,t){return{editionId:e,subscriptionStartType:t}},Ye=function(){return["/account/register-tenant"]};function $e(e,t){if(1&e&&(b.Kc(0,"button",31),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc().$implicit,t=b.Vc();b.dd("queryParams",b.id(5,He,e.edition.id,t.subscriptionStartType.Free))("routerLink",b.gd(8,Ye)),b.oc(1),b.Bd(" ",b.Xc(2,3,"Start")," ")}}function Ge(e,t){if(1&e&&(b.Kc(0,"button",32),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc().$implicit,t=b.Vc();b.dd("queryParams",b.id(5,He,e.edition.id,t.subscriptionStartType.Trial))("routerLink",b.gd(8,Ye)),b.oc(1),b.Bd(" ",b.Xc(2,3,"FreeTrial")," ")}}const Ze=function(e,t,n){return{editionId:e,subscriptionStartType:t,editionPaymentType:n}};function Qe(e,t){if(1&e&&(b.Kc(0,"button",33),b.zd(1),b.Wc(2,"localize"),b.Jc()),2&e){const e=b.Vc().$implicit,t=b.Vc();b.dd("queryParams",b.jd(5,Ze,e.edition.id,t.subscriptionStartType.Paid,t.editionPaymentType.NewRegistration))("routerLink",b.gd(9,Ye)),b.oc(1),b.Bd(" ",b.Xc(2,3,"BuyNow")," ")}}function et(e,t){if(1&e&&(b.Kc(0,"div",8),b.Kc(1,"div",9),b.Fc(2,"div",10),b.Fc(3,"div",11),b.Kc(4,"span",12),b.Fc(5,"i"),b.Jc(),b.Jc(),b.Kc(6,"span",13),b.zd(7),b.Jc(),b.xd(8,qe,3,3,"h2",14),b.xd(9,Oe,5,4,"h2",14),b.Kc(10,"span",15),b.xd(11,De,6,4,"ng-container",16),b.Jc(),b.Kc(12,"div",17),b.xd(13,je,3,3,"button",18),b.xd(14,$e,3,9,"button",19),b.xd(15,Ge,3,9,"button",20),b.xd(16,Qe,3,10,"button",21),b.Jc(),b.Jc()),2&e){const e=t.$implicit,n=t.index,i=b.Vc();b.oc(5),b.rc("fa ",i.editionIcons[n],""),b.oc(2),b.Bd(" ",e.edition.displayName," "),b.oc(1),b.dd("ngIf",i.isFree(e.edition)),b.oc(1),b.dd("ngIf",!i.isFree(e.edition)),b.oc(2),b.dd("ngForOf",i.editionsSelectOutput.allFeatures),b.oc(2),b.dd("ngIf",i.isUserLoggedIn),b.oc(1),b.dd("ngIf",!i.isUserLoggedIn&&i.isFree(e.edition)),b.oc(1),b.dd("ngIf",!i.isUserLoggedIn&&!i.isFree(e.edition)&&e.edition.trialDayCount),b.oc(1),b.dd("ngIf",!i.isUserLoggedIn&&!i.isFree(e.edition))}}const tt=[{path:"",component:N,children:[{path:"",redirectTo:"login"},{path:"login",component:de,canActivate:[B],data:{title:"\u767b\u5f55"}},{path:"register",component:(()=>{class e extends U.a{constructor(e,t,n,i,c){super(e),this._accountService=t,this._router=n,this._loginService=i,this._profileService=c,this.model=new Te,this.passwordComplexitySetting=new z.R,this.recaptchaSiteKey=V.a.recaptchaSiteKey,this.saving=!1}get useCaptcha(){return!1}ngOnInit(){null!=this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe(e=>{this.passwordComplexitySetting=e.setting}):this._router.navigate(["account/login"])}save(){!this.useCaptcha||this.model.captchaResponse?(this.saving=!0,this._accountService.register(this.model).pipe(Object(w.a)(()=>{this.saving=!1})).pipe(Object(_e.a)((e,t)=>{})).subscribe(e=>{if(!e.canLogin)return this.notify.success(this.l("SuccessfullyRegistered")),void this._router.navigate(["account/login"]);this.saving=!0,this._loginService.authenticateModel.userNameOrEmailAddress=this.model.userName,this._loginService.authenticateModel.password=this.model.password,this._loginService.authenticate(()=>{this.saving=!1})})):this.message.warn(this.l("CaptchaCanNotBeEmpty"))}captchaResolved(e){this.model.captchaResponse=e}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.b),b.Ec(l.k),b.Ec(Z),b.Ec(z.W))},e.\u0275cmp=b.yc({type:e,selectors:[["ng-component"]],features:[b.lc],decls:42,vars:42,consts:[[1,"kt-login__form",2,"display","flex","justify-content","center"],[1,"kt-login__title",2,"width","400px"],[2,"text-align","center"],["method","post","novalidate","",1,"kt-form",3,"ngSubmit"],["registerForm","ngForm"],["nz-input","","autoFocus","","maxlength","64","name","Name","required","","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["nz-input","","maxlength","64","name","Surname","required","","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["surnameInput","ngModel"],["nz-input","","maxlength","256","name","EmailAddress","pattern","^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$","required","","type","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["emailAddressInput","ngModel"],["nz-input","","autocomplete","off","maxlength","256","name","UserName","required","","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userNameInput","ngModel"],["nz-input","","name","Password","pPassword","","required","","type","password","validateEqual","PasswordRepeat","reverse","true",1,"form-control",3,"ngModel","placeholder","requireDigit","requireLowercase","requireNonAlphanumeric","requireUppercase","requiredLength","ngModelChange"],["Password","ngModel"],[1,"form-group",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["nz-input","","name","PasswordRepeat","required","","type","password","validateEqual","Password",1,"form-control",3,"ngModel","requireDigit","requireLowercase","requireNonAlphanumeric","requireUppercase","requiredLength","placeholder"],["PasswordRepeat","ngModel"],["class","mt-2 form-text text-muted",4,"ngIf"],["class","form-group mt-2 captcha-container",4,"ngIf"],[1,"kt-login__actions",2,"display","flex","justify-content","space-around"],["nz-button","","routerLink","/account/login","type","button",1,"btn","btn-light","btn-elevate","kt-login__btn-secondary",3,"disabled"],[1,"fa","fa-arrow-left"],["nz-button","","type","submit",1,"btn","btn-primary","btn-elevate","kt-login__btn-primary",3,"nzLoading","disabled"],[1,"fa","fa-check"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mt-2","form-text","text-muted"],[1,"form-group","mt-2","captcha-container"]],template:function(e,t){if(1&e&&(b.Kc(0,"div",0),b.Kc(1,"div",1),b.Kc(2,"h3",2),b.zd(3),b.Jc(),b.Kc(4,"form",3,4),b.Sc("ngSubmit",(function(){return t.save()})),b.Kc(6,"nz-form-item"),b.Kc(7,"input",5,6),b.Sc("ngModelChange",(function(e){return t.model.name=e})),b.Jc(),b.Fc(9,"validation-messages",7),b.Jc(),b.Kc(10,"nz-form-item"),b.Kc(11,"input",8,9),b.Sc("ngModelChange",(function(e){return t.model.surname=e})),b.Jc(),b.Fc(13,"validation-messages",7),b.Jc(),b.Kc(14,"nz-form-item"),b.Kc(15,"input",10,11),b.Sc("ngModelChange",(function(e){return t.model.emailAddress=e})),b.Jc(),b.Fc(17,"validation-messages",7),b.Jc(),b.Kc(18,"nz-form-item"),b.Kc(19,"input",12,13),b.Sc("ngModelChange",(function(e){return t.model.userName=e})),b.Jc(),b.Fc(21,"validation-messages",7),b.Jc(),b.Kc(22,"nz-form-item"),b.Kc(23,"input",14,15),b.Sc("ngModelChange",(function(e){return t.model.password=e})),b.Wc(25,"localize"),b.Jc(),b.Jc(),b.Kc(26,"div",16),b.xd(27,Ie,11,10,"ul",17),b.Jc(),b.Kc(28,"nz-form-item"),b.Fc(29,"input",18,19),b.Jc(),b.Kc(31,"div",16),b.xd(32,Me,13,12,"ul",17),b.Jc(),b.xd(33,Pe,2,1,"p",20),b.xd(34,Ae,1,0,"div",21),b.Kc(35,"div",22),b.Kc(36,"button",23),b.Fc(37,"i",24),b.zd(38),b.Jc(),b.Kc(39,"button",25),b.Fc(40,"i",26),b.zd(41),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc()),2&e){const e=b.nd(5),n=b.nd(8),i=b.nd(12),c=b.nd(16),o=b.nd(20),r=b.nd(24),a=b.nd(30);b.dd("@routerTransition",void 0),b.oc(3),b.Bd(" ",t.l("SignUp")," "),b.oc(4),b.fd("placeholder","",t.l("Name")," *"),b.dd("ngModel",t.model.name),b.oc(2),b.dd("formCtrl",n),b.oc(2),b.fd("placeholder","",t.l("Surname")," *"),b.dd("ngModel",t.model.surname),b.oc(2),b.dd("formCtrl",i),b.oc(2),b.fd("placeholder","",t.l("EmailAddress")," *"),b.dd("ngModel",t.model.emailAddress),b.oc(2),b.dd("formCtrl",c),b.oc(2),b.fd("placeholder","",t.l("UserName")," *"),b.dd("ngModel",t.model.userName),b.oc(2),b.dd("formCtrl",o),b.oc(2),b.ed("placeholder",b.Xc(25,40,"Password")),b.dd("ngModel",t.model.password)("placeholder",t.l("PleaseEnterYourNewPassword"))("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requiredLength",t.passwordComplexitySetting.requiredLength),b.oc(3),b.dd("hidden",e.form.valid||e.form.pristine),b.oc(1),b.dd("ngIf",r.errors),b.oc(2),b.ed("placeholder",t.l("PasswordRepeat")),b.dd("ngModel",t.model.passwordRepeat)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requiredLength",t.passwordComplexitySetting.requiredLength),b.oc(2),b.dd("hidden",e.form.valid||e.form.pristine),b.oc(1),b.dd("ngIf",a.errors),b.oc(1),b.dd("ngIf",t.useCaptcha),b.oc(1),b.dd("ngIf",t.useCaptcha),b.oc(2),b.dd("disabled",t.saving),b.oc(2),b.Bd(" ",t.l("Back")," "),b.oc(1),b.dd("nzLoading",t.saving)("disabled",!e.form.valid),b.oc(2),b.Bd(" ",t.l("Submit")," ")}},directives:[i.v,i.n,i.o,C.c,S.c,J.b,i.c,i.h,i.u,i.m,i.p,W.a,i.r,ye.a,ke.a,c.m,T.a,I.a,y.a,l.l],pipes:[M.a],encapsulation:2,data:{animation:[Object(le.a)()]}}),e})(),canActivate:[B]},{path:"register-tenant",component:Je,canActivate:[B]},{path:"register-tenant-result",component:be,canActivate:[B]},{path:"forgot-password",component:ue,canActivate:[B]},{path:"email-activation",component:X,canActivate:[B]},{path:"select-edition",component:(()=>{class e extends U.a{constructor(e,t,n,i){super(e),this._tenantRegistrationService=t,this._subscriptionService=n,this._router=i,this.editionsSelectOutput=new z.u,this.isUserLoggedIn=!1,this.editionPaymentType=z.s,this.subscriptionStartType=z.ob,this.editionIcons=["flaticon-open-box","flaticon-rocket","flaticon-gift","flaticon-confetti","flaticon-cogwheel-2","flaticon-app","flaticon-coins","flaticon-piggy-bank","flaticon-bag","flaticon-lifebuoy","flaticon-technology-1","flaticon-cogwheel-1","flaticon-infinity","flaticon-interface-5","flaticon-squares-3","flaticon-interface-6","flaticon-mark","flaticon-business","flaticon-interface-7","flaticon-list-2","flaticon-bell","flaticon-technology","flaticon-squares-2","flaticon-notes","flaticon-profile","flaticon-layers","flaticon-interface-4","flaticon-signs","flaticon-menu-1","flaticon-symbol"]}ngOnInit(){this.isUserLoggedIn=abp.session.userId>0,this._tenantRegistrationService.getEditionsForSelect().subscribe(e=>{this.editionsSelectOutput=e,(!this.editionsSelectOutput.editionsWithFeatures||this.editionsSelectOutput.editionsWithFeatures.length<=0)&&this._router.navigate(["/account/register-tenant"])})}isFree(e){return!e.monthlyPrice&&!e.annualPrice}isTrueFalseFeature(e){return"CHECKBOX"===e.inputType.name}featureEnabledForEdition(e,t){const n=g.filter(t.featureValues,{name:e.name});return!(!n||n.length<=0)&&"true"===n[0].value.toLowerCase()}getFeatureValueForEdition(e,t){const n=g.filter(t.featureValues,{name:e.name});return!n||n.length<=0?"":n[0].value}upgrade(e,t){this._router.navigate(["/account/upgrade"],{queryParams:{upgradeEditionId:e.id,editionPaymentType:t}})}}return e.\u0275fac=function(t){return new(t||e)(b.Ec(b.x),b.Ec(z.sb),b.Ec(z.nb),b.Ec(l.k))},e.\u0275cmp=b.yc({type:e,selectors:[["ng-component"]],features:[b.lc],decls:8,vars:2,consts:[[1,"kt-login__form"],[1,"kt-content","kt-grid__item","kt-grid__item--fluid","kt-grid","kt-grid--hor"],[1,"kt-container","kt-container--fluid","kt-grid__item","kt-grid__item--fluid"],[1,"kt-portlet"],[1,"kt-portlet__body"],[1,"kt-pricing-1","kt-pricing-1--fixed"],[1,"kt-pricing-1__items","row","row-centered"],["class","kt-pricing-1__item col-lg-3 col-centered",4,"ngFor","ngForOf"],[1,"kt-pricing-1__item","col-lg-3","col-centered"],[1,"kt-pricing-1__visual"],[1,"kt-pricing-1__hexagon1"],[1,"kt-pricing-1__hexagon2"],[1,"kt-pricing-1__icon","kt-font-brand"],[1,"kt-pricing-1__price"],["class","kt-pricing-1__subtitle",4,"ngIf"],[1,"kt-pricing-1__description"],[4,"ngFor","ngForOf"],[1,"kt-pricing-1__btn"],["class","btn btn-warning btn-pill  btn-brand btn-wide btn-uppercase btn-bolder btn-sm mx-2",3,"click",4,"ngIf"],["class","btn btn-success btn-pill  btn-brand btn-wide btn-uppercase btn-bolder btn-sm mx-2",3,"queryParams","routerLink",4,"ngIf"],["class","btn btn-warning btn-pill  btn-brand btn-wide btn-uppercase btn-bolder btn-sm mx-2",3,"queryParams","routerLink",4,"ngIf"],["class","btn btn-primary btn-pill  btn-brand btn-wide btn-uppercase btn-bolder btn-sm mx-2",3,"queryParams","routerLink",4,"ngIf"],[1,"kt-pricing-1__subtitle"],["class","kt-pricing-1__label",4,"ngIf"],[1,"kt-pricing-1__label"],[4,"ngIf"],["class","la la-check kt-font-success",4,"ngIf"],["class","la la-times kt-font-dark",4,"ngIf"],[1,"la","la-check","kt-font-success"],[1,"la","la-times","kt-font-dark"],[1,"btn","btn-warning","btn-pill","btn-brand","btn-wide","btn-uppercase","btn-bolder","btn-sm","mx-2",3,"click"],[1,"btn","btn-success","btn-pill","btn-brand","btn-wide","btn-uppercase","btn-bolder","btn-sm","mx-2",3,"queryParams","routerLink"],[1,"btn","btn-warning","btn-pill","btn-brand","btn-wide","btn-uppercase","btn-bolder","btn-sm","mx-2",3,"queryParams","routerLink"],[1,"btn","btn-primary","btn-pill","btn-brand","btn-wide","btn-uppercase","btn-bolder","btn-sm","mx-2",3,"queryParams","routerLink"]],template:function(e,t){1&e&&(b.Kc(0,"div",0),b.Kc(1,"div",1),b.Kc(2,"div",2),b.Kc(3,"div",3),b.Kc(4,"div",4),b.Kc(5,"div",5),b.Kc(6,"div",6),b.xd(7,et,17,11,"div",7),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc(),b.Jc()),2&e&&(b.dd("@routerTransition",void 0),b.oc(7),b.dd("ngForOf",t.editionsSelectOutput.editionsWithFeatures))},directives:[c.l,c.m,l.l],pipes:[M.a],styles:['body{background-color:#f2f3f8}button:disabled,button[disabled]{cursor:not-allowed!important}.kt-pricing-1{overflow:hidden}.kt-pricing-1.kt-pricing-1--fixed{width:75%;margin:0 auto}.kt-pricing-1 .kt-pricing-1__items{position:relative;z-index:1;padding:2.14rem 0;text-align:center;background-color:#fff}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item{padding:0;border-right:.07rem solid #ebedf2}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item:last-child{border-right:none}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual{position:relative;left:50%;margin-top:10rem;transform:translateX(-50%) translateY(-50%)}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon1{position:absolute;left:50%;transform:translateX(-50%) translateY(-50%)}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon1:before{position:absolute;top:-3.93rem;left:50%;width:17.14rem;height:0;border-right:4.2rem solid transparent;border-bottom:7.5rem solid #fcfcfe;border-left:4.2rem solid transparent;transform:translateX(-50%) translateY(-50%);content:""}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon1:after{position:absolute;top:3.5rem;left:50%;width:17.14rem;height:0;border-top:7.5rem solid #fcfcfe;border-right:4.2rem solid transparent;border-left:4.2rem solid transparent;transform:translateX(-50%) translateY(-50%);content:""}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon2{position:absolute;left:50%;margin-top:-1.43rem;transform:translateX(-50%) translateY(-50%)}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon2:before{position:absolute;top:-.42rem;left:50%;width:8.7rem;height:0;border-right:2.14rem solid transparent;border-bottom:3.71rem solid #f8f7fd;border-left:2.14rem solid transparent;transform:translateX(-50%) translateY(-50%);content:""}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__hexagon2:after{position:absolute;top:3.3rem;left:50%;width:8.7rem;height:0;border-top:3.71rem solid #f8f7fd;border-right:2.14rem solid transparent;border-left:2.14rem solid transparent;transform:translateX(-50%) translateY(-50%);content:""}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__icon{position:absolute;left:50%;transform:translateX(-50%) translateY(-50%)}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__visual .kt-pricing-1__icon>i{font-size:8.57rem}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__price{display:block;margin-top:20rem;color:#6c7293;font-weight:700;font-size:2rem}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__price .kt-pricing-1__label{position:absolute;margin-top:.64rem;margin-left:.357rem;color:#a7abc3;font-weight:500;font-size:1.64rem}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__subtitle{color:#adb1c7;font-weight:500;font-size:1.1rem}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__description{margin:1.785rem auto;padding:0 .5rem;color:#a7abc3;font-weight:400;font-size:1rem}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__description>span{display:block;text-align:center}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__btn{margin:2.14rem 0}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__btn>.btn{padding:.86rem 3.57rem}@media (min-width:1025px) and (max-width:1399px){.kt-pricing-1.kt-pricing-1--fixed{width:100%}.kt-pricing-1.kt-pricing-1--fixed .kt-pricing-1__items .kt-pricing-1__item{border-right:1px solid #ebedf2}.kt-pricing-1.kt-pricing-1--fixed .kt-pricing-1__items .kt-pricing-1__item:last-child{border-right:none}}@media (max-width:1024px){.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item{border-right:none;border-bottom:1px solid #ebedf2}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item:last-child{border-bottom:none}.kt-pricing-1 .kt-pricing-1__items .kt-pricing-1__item .kt-pricing-1__btn{margin-bottom:3.57rem}}.row-centered{display:block!important;text-align:center}.col-centered{display:inline-table;float:none;margin-right:-4px;text-align:center}'],encapsulation:2,data:{animation:[Object(le.a)()]}}),e})()}]}];let nt=(()=>{class e{}return e.\u0275mod=b.Cc({type:e}),e.\u0275inj=b.Bc({factory:function(t){return new(t||e)},imports:[[l.n.forChild(tt)],l.n]}),e})(),it=(()=>{class e{}return e.\u0275mod=b.Cc({type:e}),e.\u0275inj=b.Bc({factory:function(t){return new(t||e)},providers:[Z,B],imports:[[d.a,i.g,i.t,c.c,nt,o.a,s.a,a.a,r.a]]}),e})()}}]);