(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"9M/x":function(e,n){e.exports='\x3c!--suppress TypeScriptUnresolvedVariable --\x3e\r\n\r\n\r\n<div nz-row>\r\n    <div nz-col nzSpan="18">\r\n        <nz-input-group [nzAddOnAfter]="suffixIconButton" nzSearch>\r\n            <input type="text" nz-input [placeholder]="l(\'Search\')" />\r\n            <ng-template #suffixIconButton>\r\n                <button nz-button nzType="primary" (click)="getOrganizationUnitRoles()" nzSearch><i nz-icon\r\n                        nzType="search"></i></button>\r\n            </ng-template>\r\n        </nz-input-group>\r\n\r\n\r\n    </div>\r\n    <div nz-col nzSpan="6">\r\n        \x3c!-- Todo: --\x3e\r\n        <a nz-button nzType="link"\r\n            *ngIf="(\'Pages.Administration.OrganizationUnits.ManageRoles\' | permission) && organizationUnit"\r\n            (click)="openAddRoleModal()"><i nz-icon nzType="plus"></i>{{l(\'AddMember\')}}</a>\r\n        <a nz-button nzType="link" (click)="removeRoleBat()"> <i nz-icon nzType="delete"></i> {{l(\'Remove\')}} </a>\r\n    </div>\r\n</div>\r\n<div class="row">\r\n    <nz-alert style="width: 100%;padding-top:20px;padding-bottom: 20px;" nzType="info"\r\n        [nzMessage]="\'\u5df2\u9009\u62e9\'+getSelectedItems()+\'\u6761\'" nzShowIcon>\r\n    </nz-alert>\r\n    <st style="width: 100%;" [widthMode]="\'default\'" [data]="dataList" [columns]="columns" [loading]="loading"\r\n        [page]="{pageNumber:pageNumber,show:show,totalItems:totalItems,totalPages:totalPages}"></st>\r\n</div>\r\n\r\n\r\n<div *ngIf="!organizationUnit" class="text-muted">\r\n    {{ "SelectAnOrganizationUnitToSeeRoles" | localize }}\r\n</div>\r\n\r\n<addRoleModal #addRoleModal (rolesAdded)="addRoles($event)"></addRoleModal>'},BX2c:function(e,n){e.exports='<nz-tree-select [nzNodes]="treeNodes" [(ngModel)]="selectedPermissions" [nzDefaultExpandAll]="true" style="width: 100%;"\r\n  [nzMultiple]="true" [nzAllowClear]="true" (ngModelChange)="change()">\r\n\r\n</nz-tree-select>'},Deuk:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" (nzOnOk)="save()" [nzOkDisabled]="editForm?false:(editForm?.form.valid)"\r\n            (nzOnCancel)="close()">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #editForm="ngForm" (ngSubmit)="save()" novalidate>\r\n          <div class="modal-header">\r\n            <h5 class="modal-title">\r\n              <span *ngIf="organizationUnit.id">{{ "Edit" | localize }}:\r\n                {{ organizationUnit.displayName }}</span>\r\n              <span *ngIf="!organizationUnit.id">{{ "NewOrganizationUnit" | localize }}</span>\r\n            </h5>\r\n\r\n          </div>\r\n\r\n          <div class="modal-body">\r\n            <nz-form-item>\r\n              <nz-form-label for="OrganizationUnitDisplayName" nzRequired>{{ "Name" | localize }} </nz-form-label>\r\n              <nz-form-control>\r\n                <input nz-input #organizationUnitDisplayName="ngModel"\r\n                       [(ngModel)]="organizationUnit.displayName"\r\n                       [ngClass]="{ edited: organizationUnit.displayName }" class="form-control"\r\n                       id="OrganizationUnitDisplayName" maxlength="128" name="displayName" required\r\n                       type="text" />\r\n                <validation-messages [formCtrl]="organizationUnitDisplayName"></validation-messages>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n          </div>\r\n\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n</ng-container>\r\n'},EMe1:function(e,n){e.exports='<nz-modal [nzVisible]="isShown" [nzTitle]="l(\'SelectUsers\')" (nzOnOk)="addUsersToOrganizationUnit()"\r\n    [nzOkDisabled]="saving" (nzOnCancel)="close()" [nzCancelDisabled]="saving">\r\n\r\n\r\n    <div class="modal-body">\r\n        <form (ngSubmit)="refreshTable()" autocomplete="off" novalidate>\r\n\r\n            <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">\r\n                <input type="text" name="filterText" [(ngModel)]="filterText" nz-input\r\n                    placeholder="{{ \'SearchWithThreeDot\' | localize }}" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconButton>\r\n                <button nz-button nzType="primary" type="submit" nzSearch><i nz-icon nzType="search"></i></button>\r\n            </ng-template>\r\n            <st #dataTable [columns]="columns" [data]="dataList" [loading]="loading"\r\n                [page]="{pageNumber:pageNumber,show:show,totalItems:totalItems,totalPages:totalPages}"></st>\r\n\r\n        </form>\r\n    </div>\r\n\r\n\r\n</nz-modal>'},Eigk:function(e,n){e.exports='<ng-container *ngIf="tenant&&active">\r\n  <nz-modal [nzVisible]="active" [nzTitle]="l(\'EditTenant\')+\':\'+tenant.tenancyName" (nzOnCancel)="close()"\r\n    (nzOnOk)="save()" [nzOkDisabled]="saving">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #tenantEditForm="ngForm" (submit)="save()" *ngIf="tenant && active" class="form-validation" novalidate\r\n          role="form">\r\n          <div class="modal-body">\r\n            <nz-form-item class="form-group">\r\n              <nz-form-label for="Name" nzRequired nzFlex="100px" nz-col>{{ "TenantName" | localize }} </nz-form-label>\r\n              <nz-form-control nz-col nzFlex="auto">\r\n                <input nz-input #nameInput="ngModel" [(ngModel)]="tenant.name" [ngClass]="{ edited: tenant.name }"\r\n                  class="form-control" id="Name" maxlength="128" name="Name" required type="text" />\r\n                <validation-messages [formCtrl]="nameInput"></validation-messages>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n            <nz-form-item *ngIf="currentConnectionString" class="form-group">\r\n              <nz-form-label nz-col nzFlex="100px" for="DatabaseConnectionString" nzRequired>\r\n                {{ "DatabaseConnectionString" | localize }} *\r\n              </nz-form-label>\r\n              <nz-form-control nz-col nzFlex="auto">\r\n                <input nz-input #connectionStringInput="ngModel" [(ngModel)]="tenant.connectionString"\r\n                  class="form-control" id="DatabaseConnectionString" maxlength="1024" name="ConnectionString" required\r\n                  type="text" />\r\n                <validation-messages [formCtrl]="connectionStringInput"></validation-messages>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n            <div *ngIf="currentConnectionString">\r\n              <span\r\n                class="help-block text-warning">{{ "TenantDatabaseConnectionStringChangeWarningMessage" | localize }}</span>\r\n            </div>\r\n            <nz-form-item class="form-group">\r\n              <nz-form-label for="edition" nz-col nzFlex="100px">{{ "Edition" | localize }}</nz-form-label>\r\n              <nz-form-control nz-col nzFlex="auto">\r\n                <nz-select (change)="onEditionChange()" [(ngModel)]="tenant.editionId" class="form-control" id="edition"\r\n                  style="width: 250px;" name="edition">\r\n                  <nz-option *ngFor="let edition of editions" [nzValue]="edition.value" [nzLabel]="edition.displayText">\r\n                  </nz-option>\r\n                </nz-select>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n            <nz-form-item [hidden]="!isSubscriptionFieldsVisible" class="kt-checkbox-list">\r\n              <nz-form-label class="kt-checkbox" nz-col nzFlex="100px">\r\n                <input nz-input (ngModelChange)="onUnlimitedChange()" [(ngModel)]="isUnlimited"\r\n                  id="CreateTenant_IsUnlimited" name="IsUnlimited" type="checkbox" />\r\n              </nz-form-label>\r\n              <nz-form-control nzFlex="auto" nz-col>\r\n                {{ "UnlimitedTimeSubscription" | localize }}\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item [hidden]="isUnlimited || !isSubscriptionFieldsVisible"\r\n              [ngClass]="{ \'has-error\': !subscriptionEndDateUtcIsValid }" class="form-group">\r\n              <nz-form-label nz-col nzFlex="100px" for="SubscriptionEndDateUtc">\r\n                {{ "SubscriptionEndDateUtc" | localize }}</nz-form-label>\r\n              <nz-form-control nzFlex="auto" nz-col>\r\n                <nz-range-picker #SubscriptionEndDateUtc (dateChange)="subscriptionEndDateChange($event)"\r\n                  [(ngModel)]="tenant.subscriptionEndDateUtc" [required]="!isUnlimited" bsDatepicker\r\n                  class="form-control" datePickerMomentModifier id="SubscriptionEndDateUtc"\r\n                  name="SubscriptionEndDateUtc" type="datetime">\r\n                </nz-range-picker>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item [hidden]="!isSubscriptionFieldsVisible" class="kt-checkbox-list">\r\n              <nz-form-label class="kt-checkbox" nz-col nzFlex="100px">\r\n                <input [(ngModel)]="tenant.isInTrialPeriod" [disabled]="selectedEditionIsFree()"\r\n                  id="CreateTenant_IsInTrialPeriod" name="IsInTrialPeriod" type="checkbox" />\r\n\r\n                <span></span>\r\n              </nz-form-label>\r\n              <nz-form-control nz-col nzFlex="auto">\r\n                {{ "IsInTrialPeriod" | localize }}\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item class="kt-checkbox-list">\r\n              <nz-form-label class="kt-checkbox" nz-col nzFlex="100px">\r\n                <input [(ngModel)]="tenant.isActive" id="EditTenant_IsActive" name="IsActive" type="checkbox" />\r\n\r\n                <span></span>\r\n              </nz-form-label>\r\n              <nz-form-control nz-col nzFlex="auto">{{ "Active" | localize }}</nz-form-control>\r\n            </nz-form-item>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n</ng-container>'},GupK:function(e,n){e.exports='<nz-modal [nzTitle]="\'\u65b0\u589e\u793e\u533a\'" [nzVisible]="active" [nzWidth]="600" [nzOkDisabled]="!canSubmit" (nzOnOk)="save()"\r\n          (nzOnCancel)="active=false">\r\n  <div *ngIf="active" autocomplete="off" novalidate>\r\n\r\n    <nz-form-item>\r\n\r\n      <nz-form-label nzRequired>{{ "\u793e\u533a\u540d\u79f0" | localize }}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="topic.name" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n    <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u662f\u5426\u542f\u7528"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <nz-switch [(ngModel)]="topic.is_open"></nz-switch>\r\n      </nz-form-control>\r\n\r\n    </nz-form-item>\r\n    <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u5730\u5740\u4fe1\u606f"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <nz-cascader [nzOptions]="options" [(ngModel)]="addressList"></nz-cascader>\r\n\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n\r\n\r\n\r\n  </div>\r\n</nz-modal>\r\n'},H8yg:function(e,n,t){"use strict";t.r(n),n.default=""},IEtI:function(e,n){e.exports='<nz-modal [nzVisible]="visible" [nzTitle]="\'\u7f16\u8f91\u6743\u9650\'" (nzOnOk)="submit()" (nzOnCancel)="close()" [nzFooter]="tplFooter"\r\n  [scrollbar]="true">\r\n  <nz-alert nzType="warning" [nzMessage]="l(\'Note_RefreshPageForPermissionChanges\')" nzShowIcon></nz-alert>\r\n\r\n\r\n  <nz-tree-select #treeSelect style="width: 100%; margin-top: 20px;" [(ngModel)]="value" [nzNodes]="nodes" nzShowSearch\r\n    nzCheckable [nzDefaultExpandAll]="true" [nzPlaceHolder]="l(\'SelectPermissions\')">\r\n    \x3c!-- <ng-template #nzTreeTemplate let-node>\r\n      <span class="ant-tree-node-content-wrapper" [class.ant-tree-node-selected]="node.isSelected">\r\n        <span> <i nz-icon [nzType]="node.isExpanded ? \'folder-open\' : \'folder\'"></i> {{ node.title }} </span>\r\n      </span>\r\n    </ng-template> --\x3e\r\n  </nz-tree-select>\r\n  <ng-template #tplFooter>\r\n    <button nz-button nzType="primary" (click)="resetPermissions()" [nzLoading]="saving">\r\n      {{l(\'ResetSpecialPermissions\')}}\r\n    </button>\r\n    <button nz-button (click)="close()">{{l(\'Cancel\')}}</button>\r\n    <button nz-button (click)="submit()">{{l(\'Save\')}}</button>\r\n  </ng-template>\r\n\r\n</nz-modal>'},Os5t:function(e,n){e.exports='<nz-modal [nzVisible]="isShown" [nzTitle]="l(\'SelectRoles\')" (nzOnCancel)="close()"\r\n    (nzOnOk)="addRolesToOrganizationUnit()" [nzOkDisabled]="saving">\r\n\r\n\r\n    <div class="modal-body">\r\n        <form (ngSubmit)="refreshTable()" autocomplete="off" novalidate>\r\n            <div class="input-group mb-2">\r\n                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">\r\n                    <input type="text" name="filterText" [(ngModel)]="filterText" nz-input\r\n                        placeholder="{{ \'SearchWithThreeDot\' | localize }}" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconButton>\r\n                    <button nz-button nzType="primary" type="submit" nzSearch><i nz-icon nzType="search"></i></button>\r\n                </ng-template>\r\n\r\n            </div>\r\n            <st [data]="dataList" [columns]="columns" [loading]="loading"\r\n                [page]="{pageNumber:pageNumber,show:show,totalItems:totalItems,totalPages:totalPages}"></st>\r\n        </form>\r\n    </div>\r\n\r\n\r\n\r\n</nz-modal>'},PlHq:function(e,n){e.exports='\x3c!--suppress TypeScriptUnresolvedVariable --\x3e\r\n<nz-modal [nzVisible]="active" (nzOnCancel)="close()" (nzOnOk)="save()"\r\n  [nzTitle]="!language.id?l(\'CreateNewLanguage\'):l(\'EditLanguage\')">\r\n\r\n  <form #editForm="ngForm" (ngSubmit)="save()" *ngIf="active" novalidate>\r\n    <nz-form-item>\r\n\r\n      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">{{l(\'Language\')}}</nz-form-label>\r\n      <nz-form-control [nzSm]="14" [nzXs]="24">\r\n        <nz-select style="width: 100%;" #languageCombobox="ngModel" [(ngModel)]="language.name" name="languageName">\r\n          <nz-option [nzValue]="l.value" [nzLabel]="l.label" *ngFor="let l of languageNamesSelectItems"></nz-option>\r\n        </nz-select>\r\n        <validation-messages [formCtrl]="languageCombobox"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n    <nz-form-item>\r\n      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">{{l(\'LanguageIcon\')}}</nz-form-label>\r\n      <nz-form-control [nzSm]="14" [nzXs]="24">\r\n        <nz-select style="width: 100%;" #iconCombobox="ngModel" [(ngModel)]="language.icon" name="languageIcon">\r\n          <nz-option [nzValue]="l.value" [nzLabel]="l.label" *ngFor="let l of flagsSelectItems"></nz-option>\r\n        </nz-select>\r\n        <validation-messages [formCtrl]="iconCombobox"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n\r\n    <nz-form-item>\r\n      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">{{l(\'IsEnabled\')}}</nz-form-label>\r\n      <nz-form-control [nzSm]="14" [nzXs]="24">\r\n        <nz-switch #swichCombox [(ngModel)]="language.isEnabled" id="EditLanguage_IsEnabled" name="languageIsEnabled"\r\n          [nzCheckedChildren]="\'\u542f\u7528\'" [nzUnCheckedChildren]="\'\u7981\u7528\'">\r\n        </nz-switch>\r\n        <validation-messages [formCtrl]="swichCombox"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n\r\n\r\n\r\n\r\n\r\n  </form>\r\n\r\n</nz-modal>'},RPN6:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" [nzTitle]="l(\'Features\')" [nzFooter]="tplFooter">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #editTenantFeaturesForm="ngForm" (submit)="save()" class="form-validation" name="editTenantFeaturesForm"\r\n          novalidate role="form">\r\n\r\n          <div class="modal-body">\r\n            <feature-tree #featureTree></feature-tree>\r\n          </div>\r\n\r\n\r\n          <ng-template #tplFooter>\r\n            <button (click)="resetFeatures()" nz-button [disabled]="saving"\r\n              type="button"><span>{{ "ResetSpecialFeatures" | localize }}</span></button>\r\n            <button nz-button (click)="close()" [disabled]="saving || resettingFeatures"\r\n              type="button">{{ "Cancel" | localize }}</button>\r\n            <button nz-button [nzLoading]="saving" (click)="save()" [disabled]="resettingFeatures" nzType="primary"\r\n              type="submit">\r\n              <i class="fa fa-save"></i> <span>{{ "Save" | localize }}</span>\r\n            </button>\r\n          </ng-template>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n\r\n</ng-container>'},SdCQ:function(e,n){e.exports='<nz-modal [nzTitle]="\'\u65b0\u589e\u793e\u533a\'" [nzVisible]="active" [nzWidth]="600" [nzOkDisabled]="!canSubmit" (nzOnOk)="save()"\r\n          (nzOnCancel)="active=false">\r\n  <div *ngIf="active" autocomplete="off" novalidate>\r\n\r\n    <nz-form-item>\r\n\r\n      <nz-form-label nzRequired>{{ "\u5e97\u94fa\u540d\u79f0" | localize }}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="distribut.shop_name" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n    <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u5e97\u94fa\u7b7e\u540d"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="distribut.shop_sign" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n\r\n    </nz-form-item>\r\n\r\n    <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u5546\u6237\u6635\u79f0"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="distribut.nickname" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n\r\n    </nz-form-item>\r\n    <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u95e8\u724c\u53f7"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="distribut.neighbourNum" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n\r\n    </nz-form-item>\r\n\r\n  </div>\r\n</nz-modal>\r\n'},VfjP:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" [nzTitle]="l(\'EditText\')" [nzOkText]="l(\'Save\')"\r\n    [nzOkDisabled]="editForm?!editForm.form.valid:true" (nzOnCancel)="close()" (nzOnOk)="save()">\r\n\r\n    <form #editForm="ngForm" nz-form nzLayout="vertical" (ngSubmit)="save()" novalidate>\r\n      <nz-form-item>\r\n        <nz-form-label>{{ "Key" | localize }}</nz-form-label>\r\n        <nz-form-control>\r\n          <strong>{{ model.key }}</strong>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n      <nz-form-item class="form-group form-md-line-input form-md-floating-label no-hint">\r\n        <nz-form-label for="BaseLanguageDisplayName"><i class="{{ baseLanguage.icon }}"></i>\r\n          {{ baseLanguage.displayName }}\r\n        </nz-form-label>\r\n        <nz-form-control>\r\n          <textarea nz-input [ngModel]="baseText" class="form-control edited" id="BaseLanguageDisplayName"\r\n            name="baseText" readonly rows="4"></textarea>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n      <nz-form-item>\r\n        <nz-form-label for="TargetLanguageDisplayName"><i class="{{ targetLanguage.icon }}"></i>\r\n          {{ targetLanguage.displayName }} </nz-form-label>\r\n        <nz-form-control>\r\n          <textarea nz-input #targetValueInput [(ngModel)]="model.value" [ngClass]="{ edited: model.value }"\r\n            class="form-control" id="TargetLanguageDisplayName" name="value" rows="4"></textarea>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n    </form>\r\n\r\n  </nz-modal>\r\n</ng-container>'},WGMk:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" (nzOnCancel)="close()" (nzOnOk)="save()" [nzOkDisabled]="saving"\r\n    [nzCancelDisabled]="saving">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #editionForm="ngForm" (ngSubmit)="save()" novalidate>\r\n          <div class="modal-header">\r\n            <h5 class="modal-title">\r\n              <span>{{ l("EditEdition") }}: {{ edition.edition.displayName }}</span>\r\n            </h5>\r\n            <button (click)="close()" [attr.aria-label]="l(\'Close\')" [disabled]="saving" class="close" type="button">\r\n              <span aria-hidden="true">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class="modal-body">\r\n            <nz-tabset>\r\n              <nz-tab nzTitle="{{ l(\'EditionProperties\') }}">\r\n                <nz-form-item>\r\n                  <nz-form-label for="EditionDisplayName" nzRequired>{{ l("EditionName") }} </nz-form-label>\r\n                  <nz-form-control>\r\n                    <input #editionNameInput="ngModel" nz-input [(ngModel)]="edition.edition.displayName"\r\n                      [ngClass]="edition.edition.displayName" class="form-control" id="EditionDisplayName"\r\n                      maxlength="64" name="EditionDisplayName" required type="text" />\r\n                    <validation-messages [formCtrl]="editionNameInput"></validation-messages>\r\n                  </nz-form-control>\r\n                </nz-form-item>\r\n              </nz-tab>\r\n              <nz-tab nzTitle="{{ l(\'Features\') }}">\r\n                <feature-tree #featureTree></feature-tree>\r\n              </nz-tab>\r\n            </nz-tabset>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n</ng-container>'},Y8Dy:function(e,n,t){"use strict";t.r(n),n.default=".feature-tree-textbox {\n  max-width: 100px;\n  margin: 1px 1px 1px 5px;\n}\n.feature-tree-textbox.feature-tree-textbox-invalid {\n  color: white;\n  background: #f00;\n}\n"},ayPH:function(e,n){e.exports='\x3c!--suppress TypeScriptUnresolvedVariable --\x3e\r\n\r\n<nz-card [nzTitle]="l(\'OrganizationTree\')" [nzExtra]="extraTemplate">\r\n    <nz-tree #treeComponent [nzData]="treeData" nzShowLine (nzClick)="nodeSelect($event)">\r\n        <ng-template #nzTreeTemplate let-node let-origin="origin">\r\n            <span class="custom-node" (click)="nodeSelect(node)">\r\n                <span *ngIf="!node.isLeaf" (contextmenu)="contextMenu($event,node, menu)">\r\n                    <i nz-icon [nzType]="node.isExpanded ? \'folder-open\' : \'folder\'"></i>\r\n                    <span class="folder-name">{{ node.title }}</span>\r\n\r\n                </span>\r\n                <span *ngIf="node.isLeaf" (contextmenu)="contextMenu($event,node, menu)">\r\n                    <i nz-icon nzType="file"></i>\r\n                    <span class="file-name">{{ node.title }}</span>\r\n\r\n                </span>\r\n            </span>\r\n        </ng-template>\r\n    </nz-tree>\r\n    <nz-dropdown-menu #menu="nzDropdownMenu">\r\n        <ul nz-menu>\r\n            <li nz-menu-item (click)="edit($event)">{{l(\'Edit\')}}</li>\r\n            <li nz-menu-item (click)="addChild()">{{l(\'AddChild\')}}</li>\r\n            <li nz-menu-item (click)="deleteUnit(contextMenuData.origin.id)">{{l(\'Delete\')}}</li>\r\n        </ul>\r\n    </nz-dropdown-menu>\r\n    <ng-template #extraTemplate>\r\n        <a (click)="addUnit(null)" style="color: violet;"\r\n            *ngIf="\'Pages.Administration.OrganizationUnits.ManageOrganizationTree\' | permission"><i nz-icon\r\n                nzType="plus" nzTheme="outline"></i> {{ "AddRootUnit" | localize }}</a>\r\n    </ng-template>\r\n    \x3c!-- <p-tree (onNodeDrop)="nodeDrop($event)" (onNodeSelect)="nodeSelect($event)" [(selection)]="selectedOu"\r\n            [contextMenu]="ouContextMenu" [draggableNodes]="canManageOrganizationUnits"\r\n            [droppableNodes]="canManageOrganizationUnits" [value]="treeData" selectionMode="single">\r\n            <ng-template let-node pTemplate="default">\r\n                <div>\r\n                    <span>\r\n                        {{ node.label }}\r\n                    </span>\r\n                    <small style="font-size: .82em; opacity: .5;">{{ node.memberCount }} {{ "Members" | localize }},\r\n                        {{ node.roleCount }} {{ "Roles" | localize }}</small>\r\n                </div>\r\n            </ng-template>\r\n        </p-tree>\r\n        <p-contextMenu #ouContextMenu [model]="ouContextMenuItems" appendTo="body" baseZIndex="99999"></p-contextMenu> --\x3e\r\n    <div *ngIf="!totalUnitCount" class="text-muted">\r\n        {{ "NoOrganizationUnitDefinedYet" | localize }}\r\n    </div>\r\n</nz-card>\r\n\r\n\r\n<createOrEditOrganizationUnitModal #createOrEditOrganizationUnitModal (unitCreated)="unitCreated($event)"\r\n    (unitUpdated)="unitUpdated($event)"></createOrEditOrganizationUnitModal>\r\n<entityTypeHistoryModal #entityTypeHistoryModal></entityTypeHistoryModal>'},bNtv:function(e,n){e.exports='<nz-modal [nzTitle]="\'\u65b0\u589e\u793e\u533a\'" [nzVisible]="active" [nzWidth]="600" [nzOkDisabled]="!canSubmit" (nzOnOk)="save()"\r\n          (nzOnCancel)="active=false">\r\n  <div *ngIf="active" autocomplete="off" novalidate>\r\n    <nz-form-item>\r\n\r\n      <nz-form-label nzRequired>{{ "\u53d6\u8d27\u70b9\u540d\u79f0" | localize }}</nz-form-label>\r\n      <nz-form-control>\r\n        <input nz-input #roleNameInput="ngModel" [(ngModel)]="pickup.pickup_name" class="form-control"\r\n               id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n        <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n      </nz-form-control>\r\n    </nz-form-item>\r\n    \x3c!-- <nz-form-item>\r\n      <nz-form-label nzRequired>{{"\u662f\u5426\u542f\u7528"|localize}}</nz-form-label>\r\n      <nz-form-control>\r\n        <nz-switch [(ngModel)]="topic.is_open"></nz-switch>\r\n      </nz-form-control>\r\n\r\n    </nz-form-item> --\x3e\r\n\r\n  </div>\r\n</nz-modal>\r\n'},eQfN:function(e,n){e.exports='<nz-modal [nzVisible]="active" [nzFooter]="tplFooter" [title]="\'AuditLogDetail\' | localize ">\r\n\r\n  <form #roleForm="ngForm" *ngIf="active">\r\n\r\n    <div class="modal-body">\r\n      <h3>\r\n        {{ "UserInformations" | localize }}\r\n      </h3>\r\n      <div nz-row>\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "UserName" | localize }} </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.userName }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "IpAddress" | localize }} </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.clientIpAddress }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "Client" | localize }}</nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.clientName }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6">{{ "Browser" | localize }} </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.browserInfo }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n        </div>\r\n        <div nz-col nzSpan="24" *ngIf="auditLog.impersonatorUserId">\r\n          <nz-form-item>\r\n\r\n            <nz-form-label nz-col nzSpan="6"></nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ "AuditLogImpersonatedOperationInfo" | localize }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <h3>{{ "ActionInformations" | localize }}</h3>\r\n        <div nz-col nzSpan="24" *ngIf="auditLog.impersonatorUserId">\r\n          <nz-form-item>\r\n\r\n            <nz-form-label nz-col nzSpan="6">{{ "Service" | localize }}</nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.serviceName }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "Action" | localize }} </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ auditLog.methodName }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "Time" | localize }}: </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ getExecutionTime() }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "Duration" | localize }}: </nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <span>{{ getDurationAsMs() }}</span>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan="24">\r\n          <nz-form-item>\r\n            <nz-form-label nz-col nzSpan="6"> {{ "Parameters" | localize }}</nz-form-label>\r\n            <nz-form-control nz-col nzSpan="18">\r\n              <pre lang="js">{{ getFormattedParameters() }}</pre>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <h3>{{ "CustomData" | localize }}</h3>\r\n\r\n\r\n    <div nz-col nzSpan="24">\r\n      <nz-form-item>\r\n        <nz-form-label nz-col nzSpan="6"> {{ "None" | localize }}</nz-form-label>\r\n        <nz-form-control nz-col nzSpan="18" *ngIf="auditLog.customData">\r\n          <pre>{{ auditLog.customData }}</pre>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n    </div>\r\n\r\n\r\n    <div nz-col nzSpan="24">\r\n      <nz-form-item>\r\n        <nz-form-label nz-col nzSpan="6">{{ "ErrorState" | localize }}</nz-form-label>\r\n        <nz-form-control nz-col nzSpan="18">\r\n          <div *ngIf="!auditLog.exception" class="col-lg-12 col-form-label"> <i\r\n              class="fa fa-check-circle kt-font-success"></i> {{ "Success" | localize }} </div>\r\n          <div *ngIf="auditLog.exception" class="col-lg-12 alert kt-alert kt-alert--default">\r\n            <pre>{{ auditLog.exception }}</pre>\r\n          </div>\r\n        </nz-form-control>\r\n      </nz-form-item>\r\n    </div>\r\n\r\n\r\n  </form>\r\n  <ng-template #tplFooter>\r\n    <button nz-buton (click)="close()" nz-button nzType="primary">\r\n      {{ "Close" | localize }}\r\n    </button>\r\n  </ng-template>\r\n</nz-modal>'},hDhq:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active"\r\n    [nzOkDisabled]="!tenantCreateForm.form.valid || saving || !subscriptionEndDateIsValid()" (nzOnOk)="save()"\r\n    (nzOnCancel)="close()" [nzTitle]="l(\'CreateNewTenant\')">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #tenantCreateForm="ngForm" (submit)="save()" class="form-validation" novalidate role="form">\r\n\r\n\r\n          <nz-form-item>\r\n            <nz-form-label for="TenancyName">{{ "TenancyName" | localize }} </nz-form-label>\r\n            <nz-form-control>\r\n              <input nz-input #tenancyName="ngModel" #tenancyNameInput="ngModel" [(ngModel)]="tenant.tenancyName"\r\n                [ngClass]="{ edited: tenant.tenancyName }" class="form-control" id="TenancyName" maxlength="64"\r\n                name="tenancyName" pattern="^[a-zA-Z][a-zA-Z0-9_-]{1,}$" required type="text" />\r\n              <validation-messages [formCtrl]="tenancyNameInput"></validation-messages>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n          <div>\r\n            <span *ngIf="!tenancyName.valid && !tenancyName.pristine"\r\n              class="form-control-feedback">{{ "TenantName_Regex_Description" | localize }}</span>\r\n          </div>\r\n\r\n          <nz-form-item>\r\n            <nz-form-label for="Name">{{ "TenantName" | localize }} </nz-form-label>\r\n            <nz-form-control>\r\n              <input #nameInput="ngModel" nz-input [(ngModel)]="tenant.name" [ngClass]="{ edited: tenant.name }"\r\n                class="form-control" id="Name" maxlength="128" name="Name" required type="text" />\r\n              <validation-messages [formCtrl]="nameInput"></validation-messages>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item>\r\n            <nz-form-label class="kt-checkbox">\r\n              <input nz-input [(ngModel)]="useHostDb" id="CreateTenant_UseHostDb" name="UseHostDb" type="checkbox" />\r\n\r\n              <span></span>\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "UseHostDatabase" | localize }}\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item *ngIf="!useHostDb">\r\n            <nz-form-label for="DatabaseConnectionString">{{ "DatabaseConnectionString" | localize }} </nz-form-label>\r\n            <nz-form-control>\r\n              <input nz-input #connectionStringInput="ngModel" [(ngModel)]="tenant.connectionString"\r\n                [ngClass]="{ edited: tenant.connectionString }" class="form-control" id="DatabaseConnectionString"\r\n                maxlength="1024" name="ConnectionString" required type="text" />\r\n              <validation-messages [formCtrl]="connectionStringInput"></validation-messages>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item>\r\n            <nz-form-label for="AdminEmailAddress">{{ "AdminEmailAddress" | localize }} *</nz-form-label>\r\n            <nz-form-control>\r\n              <input nz-input #adminEmailAddressInput="ngModel" [(ngModel)]="tenant.adminEmailAddress"\r\n                [ngClass]="{ edited: tenant.adminEmailAddress }" class="form-control" id="AdminEmailAddress"\r\n                maxlength="256" name="AdminEmailAddress" pattern="^\\w+([-+.\']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"\r\n                required type="email" />\r\n              <validation-messages [formCtrl]="adminEmailAddressInput"></validation-messages>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item>\r\n            <nz-form-label class="kt-checkbox">\r\n              <input nz-input [(ngModel)]="setRandomPassword" id="CreateTenant_SetRandomPassword"\r\n                name="SetRandomPassword" type="checkbox" />\r\n\r\n              <span></span>\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "SetRandomPassword" | localize }}\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item *ngIf="!setRandomPassword">\r\n            <nz-form-label for="AdminPassword">{{ "AdminPassword" | localize }}</nz-form-label>\r\n            <nz-form-control>\r\n              <input #AdminPassword="ngModel" [(ngModel)]="tenant.adminPassword" nz-input\r\n                [ngClass]="{ edited: tenant.adminPassword }" [requireDigit]="passwordComplexitySetting.requireDigit"\r\n                [requireLowercase]="passwordComplexitySetting.requireLowercase"\r\n                [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric"\r\n                [requireUppercase]="passwordComplexitySetting.requireUppercase"\r\n                [requiredLength]="passwordComplexitySetting.requiredLength" [required]="!setRandomPassword"\r\n                class="form-control" id="AdminPassword" maxlength="32" name="AdminPassword" type="password"\r\n                validateEqual="AdminPasswordRepeat" reverse="true" />\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <div [hidden]="tenantCreateForm.form.valid || tenantCreateForm.form.pristine">\r\n            <ul *ngIf="tenantCreateForm.controls[\'adminPassword\'] && tenantCreateForm.controls[\'adminPassword\'].errors"\r\n              class="help-block text-danger">\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPassword\'].errors.requireDigit">\r\n                {{ "PasswordComplexity_RequireDigit_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPassword\'].errors.requireLowercase">\r\n                {{ "PasswordComplexity_RequireLowercase_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPassword\'].errors.requireUppercase">\r\n                {{ "PasswordComplexity_RequireUppercase_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPassword\'].errors.requireNonAlphanumeric">\r\n                {{ "PasswordComplexity_RequireNonAlphanumeric_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPassword\'].errors.requiredLength">\r\n                {{ "PasswordComplexity_RequiredLength_Hint" | localize: passwordComplexitySetting.requiredLength }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <nz-form-item *ngIf="!setRandomPassword">\r\n            <nz-form-label for="AdminPasswordRepeat">{{ "AdminPasswordRepeat" | localize }}</nz-form-label>\r\n            <input nz-input #AdminPasswordRepeat="ngModel" [(ngModel)]="tenantAdminPasswordRepeat"\r\n              [ngClass]="{ edited: tenantAdminPasswordRepeat }" [requireDigit]="passwordComplexitySetting.requireDigit"\r\n              [requireLowercase]="passwordComplexitySetting.requireLowercase"\r\n              [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric"\r\n              [requireUppercase]="passwordComplexitySetting.requireUppercase"\r\n              [requiredLength]="passwordComplexitySetting.requiredLength" [required]="!setRandomPassword"\r\n              class="form-control" id="AdminPasswordRepeat" maxlength="32" name="AdminPasswordRepeat" type="password"\r\n              validateEqual="AdminPassword" />\r\n          </nz-form-item>\r\n\r\n          <div [hidden]="tenantCreateForm.form.valid || tenantCreateForm.form.pristine">\r\n            <ul\r\n              *ngIf="tenantCreateForm.controls[\'adminPasswordRepeat\'] && tenantCreateForm.controls[\'adminPasswordRepeat\'].errors"\r\n              class="help-block text-danger">\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPasswordRepeat\'].errors.requireDigit">\r\n                {{ "PasswordComplexity_RequireDigit_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPasswordRepeat\'].errors.requireLowercase">\r\n                {{ "PasswordComplexity_RequireLowercase_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPasswordRepeat\'].errors.requireUppercase">\r\n                {{ "PasswordComplexity_RequireUppercase_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPasswordRepeat\'].errors.requireNonAlphanumeric">\r\n                {{ "PasswordComplexity_RequireNonAlphanumeric_Hint" | localize }}\r\n              </li>\r\n              <li [hidden]="!tenantCreateForm.controls[\'adminPasswordRepeat\'].errors.requiredLength">\r\n                {{ "PasswordComplexity_RequiredLength_Hint" | localize: passwordComplexitySetting.requiredLength }}\r\n              </li>\r\n              <li [hidden]="tenantCreateForm.controls[\'adminPasswordRepeat\'].valid">\r\n                {{ "PasswordsDontMatch" | localize }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <nz-form-item>\r\n            <nz-form-label for="edition">{{ "Edition" | localize }}</nz-form-label>\r\n            <nz-select (change)="onEditionChange()" [(ngModel)]="tenant.editionId" class="form-control" id="edition"\r\n              name="edition">\r\n              <nz-option *ngFor="let edition of editions" [nzValue]="edition.value" [nzLabel]="edition.displayText">\r\n              </nz-option>\r\n            </nz-select>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item [hidden]="!isSubscriptionFieldsVisible">\r\n            <nz-form-label class="kt-checkbox" for="CreateTenant_IsUnlimited">\r\n              <input nz-input [(ngModel)]="isUnlimited" id="CreateTenant_IsUnlimited" name="IsUnlimited"\r\n                type="checkbox" />\r\n\r\n              <span></span>\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "UnlimitedTimeSubscription" | localize }}\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item [hidden]="isUnlimited || !isSubscriptionFieldsVisible"\r\n            [ngClass]="{ \'has-error\': !subscriptionEndDateIsValid() }" class="form-group">\r\n            <nz-form-label for="SubscriptionEndDate">{{ "SubscriptionEndDate" | localize }}</nz-form-label>\r\n            <nz-form-control>\r\n              <nz-range-picker #SubscriptionEndDateUtc [(ngModel)]="tenant.subscriptionEndDateUtc" autocomplete="off"\r\n                datePickerMomentModifier id="SubscriptionEndDate" name="SubscriptionEndDateUtc" type="text">\r\n              </nz-range-picker>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item [hidden]="!isSubscriptionFieldsVisible">\r\n            <nz-form-label class="kt-checkbox" for="CreateTenant_IsInTrialPeriod">\r\n              <input [(ngModel)]="tenant.isInTrialPeriod" [disabled]="isSelectedEditionFree"\r\n                id="CreateTenant_IsInTrialPeriod" name="IsInTrialPeriod" type="checkbox" />\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "IsInTrialPeriod" | localize }}\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n          <nz-form-item class="kt-checkbox-list">\r\n            <nz-form-label class="kt-checkbox" for="CreateTenant_ShouldChangePasswordOnNextLogin">\r\n              <input [(ngModel)]="tenant.shouldChangePasswordOnNextLogin"\r\n                id="CreateTenant_ShouldChangePasswordOnNextLogin" name="ShouldChangePasswordOnNextLogin"\r\n                type="checkbox" />\r\n\r\n\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "ShouldChangePasswordOnNextLogin" | localize }}\r\n            </nz-form-control>\r\n\r\n          </nz-form-item>\r\n          <nz-form-item>\r\n            <nz-form-label class="kt-checkbox" for="CreateTenant_SendActivationEmail">\r\n              <input [(ngModel)]="tenant.sendActivationEmail" id="CreateTenant_SendActivationEmail"\r\n                name="SendActivationEmail" type="checkbox" />\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "SendActivationEmail" | localize }}\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n          <nz-form-item>\r\n            <nz-form-label class="kt-checkbox" for="CreateTenant_IsActive">\r\n              <input [(ngModel)]="tenant.isActive" id="CreateTenant_IsActive" name="IsActive" type="checkbox" />\r\n            </nz-form-label>\r\n            <nz-form-control>\r\n              {{ "Active" | localize }}\r\n\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n</ng-container>'},iza6:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" (nzOnOk)="save()" (nzOnCancel)="close()" [title]="l(\'EditRole\')">\r\n\r\n    <nz-alert [nzMessage]="l(\'Note_RefreshPageForPermissionChanges\')" nzType="info" nzShowIcon="true"></nz-alert>\r\n\r\n    <form #roleForm="ngForm" (ngSubmit)="save()" *ngIf="active" autocomplete="off" novalidate>\r\n\r\n      <div class="modal-body">\r\n        <nz-tabset>\r\n          <nz-tab nzTitle="{{ \'RoleName\' | localize }}">\r\n            <div class="form-group">\r\n              <label>{{ "RoleName" | localize }} *</label>\r\n              <input nz-input #roleNameInput="ngModel" [(ngModel)]="role.displayName" class="form-control"\r\n                     id="RoleDisplayName" maxlength="64" name="DisplayName" required type="text" />\r\n              <validation-messages [formCtrl]="roleNameInput"></validation-messages>\r\n            </div>\r\n\r\n            <div class="kt-checkbox-list">\r\n              <label class="kt-checkbox">\r\n                <nz-switch [(ngModel)]="role.isDefault" id="EditRole_IsDefault" name="IsDefault"\r\n                           [nzCheckedChildren]="\'\u662f\'"\r\n                           [nzUnCheckedChildren]="\'\u5426\'">\r\n                </nz-switch>\r\n                {{ "Default" | localize }}\r\n                <span></span>\r\n              </label>\r\n              <span class="help-block">{{ "DefaultRole_Description" | localize }}</span>\r\n            </div>\r\n          </nz-tab>\r\n          <nz-tab nzTitle="{{ \'Permissions\' | localize }}">\r\n            <permission-tree #permissionTree></permission-tree>\r\n          </nz-tab>\r\n        </nz-tabset>\r\n\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </nz-modal>\r\n</ng-container>\r\n'},jkDv:function(e,n,t){"use strict";t.r(n),t.d(n,"AdminModule",(function(){return _e}));var i=t("mrSG"),r=t("ofXK"),a=t("fXoL"),o=t("3Pt+"),s=t("yjp6"),l=t("pV/B"),d=t("pmn7"),c=t("YirH"),m=t("yc4G"),p=t("PCNd"),u=t("0Em7"),h=t("x2O3"),g=t("wd/R");let z=class extends h.a{constructor(e){super(e),this.active=!1}getExecutionTime(){return g(this.auditLog.executionTime).fromNow()+" ("+g(this.auditLog.executionTime).format("YYYY-MM-DD HH:mm:ss")+")"}getDurationAsMs(){return this.l("Xms",this.auditLog.executionDuration)}getFormattedParameters(){const e=this;try{const n=JSON.parse(e.auditLog.parameters);return JSON.stringify(n,null,4)}catch(n){return e.auditLog.parameters}}show(e){this.active=!0,this.auditLog=e}close(){this.active=!1}};z.ctorParameters=()=>[{type:a.F}],z=Object(i.__decorate)([Object(a.n)({selector:"auditLogDetailModal",template:Object(i.__importDefault)(t("eQfN")).default})],z);var f=t("qJYM"),b=t("joeh"),v=t("IMw7");class y{}let S=class extends h.a{constructor(e,n){super(n),this.httpUtil=e,this.injector=n,this.active=!1,this.modalSave=new a.x}show(e){this.distribut=e||new y,this.active=!0}save(){this.distribut.id?this.httpUtil.post("/api/distribut/update",this.distribut).toPromise().then(e=>{this.modalSave.emit(!0),this.active=!1}):this.httpUtil.post("/api/distribut/insert",this.distribut).toPromise().then(e=>{this.modalSave.emit(!0),this.active=!1})}canSubmit(){return!!this.distribut&&!!(this.distribut.shop_name&&this.distribut.neighbourNum&&this.distribut.nickname&&this.distribut.shop_sign)}};S.ctorParameters=()=>[{type:v.a},{type:a.F}],Object(i.__decorate)([Object(a.S)()],S.prototype,"modalSave",void 0),S=Object(i.__decorate)([Object(a.n)({selector:"app-create-or-edit-distribut",template:Object(i.__importDefault)(t("SdCQ")).default,styles:[Object(i.__importDefault)(t("nmkx")).default]})],S);var x=t("SdPK"),O=t("cj2p"),_=t("KALY"),I=t("nYR2");let C=class extends h.a{constructor(e,n,t){super(e),this._editionService=n,this._commonLookupService=t,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.edition=new _.l,this.expiringEditions=[],this.expireAction=O.a.DeactiveTenant,this.expireActionEnum=O.a,this.isFree=!0,this.isTrialActive=!1,this.isWaitingDayActive=!1}show(e){this.active=!0,this._commonLookupService.getEditionsForCombobox(!0).subscribe(n=>{this.expiringEditions=n.items,this.expiringEditions.unshift(new _.j({value:null,displayText:this.l("NotAssigned"),isSelected:!0})),this._editionService.getEditionForEdit(e).subscribe(e=>{this.featureTree.editData=e})})}onShown(){document.getElementById("EditionDisplayName").focus()}resetPrices(e){this.edition.edition.annualPrice=void 0,this.edition.edition.monthlyPrice=void 0}removeExpiringEdition(e){this.edition.edition.expiringEditionId=null}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const e=new _.l;e.edition=this.edition.edition,e.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._editionService.createEdition(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}};C.ctorParameters=()=>[{type:a.F},{type:_.u},{type:_.k}],Object(i.__decorate)([Object(a.mb)("featureTree",{static:!1})],C.prototype,"featureTree",void 0),Object(i.__decorate)([Object(a.S)()],C.prototype,"modalSave",void 0),C=Object(i.__decorate)([Object(a.n)({selector:"createEditionModal",template:Object(i.__importDefault)(t("uY72")).default})],C);let D=class extends h.a{constructor(e,n,t){super(e),this._editionService=n,this._commonLookupService=t,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.edition=new _.Cb,this.expiringEditions=[],this.expireAction=O.a.DeactiveTenant,this.expireActionEnum=O.a,this.isFree=!1,this.isTrialActive=!1,this.isWaitingDayActive=!1}show(e){this.active=!0,this._commonLookupService.getEditionsForCombobox(!0).subscribe(n=>{this._editionService.getEditionForEdit(e).subscribe(e=>{this.featureTree.editData=e,this.edition.edition=e.edition})})}onShown(){document.getElementById("EditionDisplayName").focus()}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const e=new _.Cb;e.edition=this.edition.edition,e.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._editionService.updateEdition(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}};D.ctorParameters=()=>[{type:a.F},{type:_.u},{type:_.k}],Object(i.__decorate)([Object(a.mb)("featureTree",{static:!1})],D.prototype,"featureTree",void 0),Object(i.__decorate)([Object(a.S)()],D.prototype,"modalSave",void 0),D=Object(i.__decorate)([Object(a.n)({selector:"editEditionModal",template:Object(i.__importDefault)(t("WGMk")).default})],D);var w=t("NOzG"),N=t("nS6G");let T=class extends h.a{constructor(e,n,t){super(e),this._editionService=n,this._commonLookupService=t,this.active=!1,this.saving=!1,this.appBaseUrl="",this.tenantCount=0,this.moveTenantsInput=new _.O,this.targetEditions=[]}show(e){this.active=!0,this.moveTenantsInput.sourceEditionId=e,this._commonLookupService.getEditionsForCombobox(void 0).subscribe(e=>{this.targetEditions=e.items}),this._editionService.getTenantCount(e).subscribe(e=>{this.tenantCount=e,this.appBaseUrl=N.a.appBaseUrl})}save(){this.saving=!0,this._editionService.moveTenantsToAnotherEdition(this.moveTenantsInput).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("MoveTenantsToAnotherEditionStartedNotification")),this.close()})}close(){this.active=!1}};T.ctorParameters=()=>[{type:a.F},{type:_.u},{type:_.k}],T=Object(i.__decorate)([Object(a.n)({selector:"moveTenantsToAnotherEditionModal",template:Object(i.__importDefault)(t("kCyd")).default})],T);var U=t("LvDl");let E=class extends h.a{constructor(e,n){super(e),this._languageService=n,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.language=new _.d,this.languageNamesSelectItems=[],this.flagsSelectItems=[]}show(e){this.active=!0,this._languageService.getLanguageForEdit(e).subscribe(n=>{this.language=n.language,this.languageNamesSelectItems=U.map(n.languageNames,e=>({label:e.displayText,value:e.value})),this.flagsSelectItems=U.map(n.flags,e=>({label:e.displayText,value:e.value})),e||(this.language.isEnabled=!0)})}save(){const e=new _.m;e.language=this.language,this.saving=!0,this._languageService.createOrUpdateLanguage(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}};E.ctorParameters=()=>[{type:a.F},{type:_.L}],Object(i.__decorate)([Object(a.mb)("languageCombobox",{static:!0})],E.prototype,"languageCombobox",void 0),Object(i.__decorate)([Object(a.mb)("iconCombobox",{static:!0})],E.prototype,"iconCombobox",void 0),Object(i.__decorate)([Object(a.S)()],E.prototype,"modalSave",void 0),E=Object(i.__decorate)([Object(a.n)({selector:"createOrEditLanguageModal",template:Object(i.__importDefault)(t("PlHq")).default})],E);let M=class extends h.a{constructor(e,n){super(e),this._languageService=n,this.modalSave=new a.x,this.model=new _.Db,this.active=!1,this.saving=!1}show(e,n,t,i,r,a){this.model.sourceName=t,this.model.key=i,this.model.languageName=n,this.model.value=a,this.baseText=r,this.baseLanguage=U.find(abp.localization.languages,n=>n.name===e),this.targetLanguage=U.find(abp.localization.languages,e=>e.name===n),this.active=!0}onShown(){document.getElementById("TargetLanguageDisplayName").focus()}save(){this.saving=!0,this._languageService.updateLanguageText(this.model).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}findLanguage(e){return U.find(abp.localization.languages,n=>n.name===e)}};M.ctorParameters=()=>[{type:a.F},{type:_.L}],Object(i.__decorate)([Object(a.S)()],M.prototype,"modalSave",void 0),M=Object(i.__decorate)([Object(a.n)({selector:"editTextModal",template:Object(i.__importDefault)(t("VfjP")).default})],M);var P=t("K5Yt"),F=t("WLr0"),k=t("qkx8");let j=class extends h.b{constructor(e,n){super(e),this._organizationUnitService=n,this.loading=!1,this.membersAdded=new a.x,this.isShown=!1,this.filterText="",this.saving=!1,this.columns=[{type:"checkbox",index:"checked"},{title:this.l("Name"),index:"name"}]}fetchDataList(e,n,t){this.organizationUnitId&&this.getRecords()}refreshTable(){this.pageNumber=1,this.getRecords()}close(){this.isShown=!1}shown(){this.isShown=!0,this.getRecordsIfNeeds(null)}getRecordsIfNeeds(e){this.isShown&&this.getRecords(e)}getRecords(e){const n=new _.C;n.organizationUnitId=this.organizationUnitId,n.filter=this.filterText,n.skipCount=(this.pageNumber-1)*this.pageSize,n.maxResultCount=this.pageSize,this.loading=!0,this._organizationUnitService.findUsers(n).subscribe(e=>{this.totalItems=e.totalCount,this.dataList=e.items,this.loading=!1},()=>this.loading=!1)}addUsersToOrganizationUnit(){const e=new _.Mb;e.organizationUnitId=this.organizationUnitId,e.userIds=U.map(this.dataList.filter(e=>e.checked).map(e=>Number(e.value))),this.saving=!0,this._organizationUnitService.addUsersToOrganizationUnit(e).subscribe(()=>{this.membersAdded.emit({userIds:e.userIds,ouId:e.organizationUnitId}),this.saving=!1,this.close(),this.selectedMembers=[]})}};j.ctorParameters=()=>[{type:a.F},{type:_.R}],Object(i.__decorate)([Object(a.S)()],j.prototype,"membersAdded",void 0),Object(i.__decorate)([Object(a.mb)("dataTable",{static:!0})],j.prototype,"dataTable",void 0),j=Object(i.__decorate)([Object(a.n)({selector:"addMemberModal",template:Object(i.__importDefault)(t("EMe1")).default})],j);let A=class extends h.b{constructor(e,n){super(e),this._organizationUnitService=n,this.loading=!1,this.columns=[{type:"checkbox",index:"checked"},{title:this.l("Name"),index:"name"}],this.rolesAdded=new a.x,this.data=[],this.isShown=!1,this.filterText="",this.saving=!1}fetchDataList(e,n,t){}refreshTable(){}close(){this.isShown=!1}shown(){this.isShown=!0,this.getRecordsIfNeeds(null)}getRecordsIfNeeds(e){this.isShown&&this.getRecords(e)}getRecords(e){const n=new _.B;n.organizationUnitId=this.organizationUnitId,n.filter=this.filterText,n.skipCount=this.pageSize*(this.pageNumber-1),n.maxResultCount=this.pageSize,this.loading=!0,this._organizationUnitService.findRoles(n).subscribe(e=>{this.totalItems=e.totalCount,this.dataList=e.items,this.loading=!1},()=>this.loading=!1)}addRolesToOrganizationUnit(){const e=new _.fb;e.organizationUnitId=this.organizationUnitId,e.roleIds=U.map(this.dataList.filter(e=>e.checked),e=>Number(e.value)),this.saving=!0,this._organizationUnitService.addRolesToOrganizationUnit(e).subscribe(()=>{this.rolesAdded.emit({roleIds:e.roleIds,ouId:e.organizationUnitId}),this.saving=!1,this.close(),this.selectedRoles=[]})}};A.ctorParameters=()=>[{type:a.F},{type:_.R}],Object(i.__decorate)([Object(a.S)()],A.prototype,"rolesAdded",void 0),A=Object(i.__decorate)([Object(a.n)({selector:"addRoleModal",template:Object(i.__importDefault)(t("Os5t")).default})],A);let R=class extends h.a{constructor(e,n,t){super(e),this._organizationUnitService=n,this._changeDetector=t,this.unitCreated=new a.x,this.unitUpdated=new a.x,this.active=!1,this.saving=!1,this.visible=!1,this.organizationUnit={}}onShown(){document.getElementById("OrganizationUnitDisplayName").focus()}show(e){this.organizationUnit=e,this.active=!0,this.visible=!0,this._changeDetector.detectChanges()}save(){this.organizationUnit.id?this.updateUnit():this.createUnit()}createUnit(){const e=new _.p;e.parentId=this.organizationUnit.parentId,e.displayName=this.organizationUnit.displayName,this.saving=!0,this._organizationUnitService.createOrganizationUnit(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(e=>{this.close(),this.unitCreated.emit(e)})}updateUnit(){const e=new _.Eb;e.id=this.organizationUnit.id,e.displayName=this.organizationUnit.displayName,this.saving=!0,this._organizationUnitService.updateOrganizationUnit(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(e=>{this.close(),this.unitUpdated.emit(e)})}close(){this.active=!1}};R.ctorParameters=()=>[{type:a.F},{type:_.R},{type:a.k}],Object(i.__decorate)([Object(a.mb)("organizationUnitDisplayName",{static:!0})],R.prototype,"organizationUnitDisplayNameInput",void 0),Object(i.__decorate)([Object(a.S)()],R.prototype,"unitCreated",void 0),Object(i.__decorate)([Object(a.S)()],R.prototype,"unitUpdated",void 0),R=Object(i.__decorate)([Object(a.n)({selector:"createOrEditOrganizationUnitModal",template:Object(i.__importDefault)(t("Deuk")).default})],R);var L=t("oo35"),q=t("Nqz0"),V=t("z6cu"),H=t("JIr8");t("ifs9");function B(e){const n=[];return e.forEach(e=>{n.push(...function e(n){const t=[];if(null!=n.children){if(0===n.children.length)t.push(n);else{for(const i of n.children)t.push(...e(i));t.push(n)}return t}t.push(n);return t}(e))}),n}function W(e){return B(e).filter(e=>e.isChecked||e.isHalfChecked)}function G(e,n,t,i){function r(e,a){const o=a.filter(i=>i[t]==e[n]);for(const t of o)t.key=t[n],t.title=t[i],t.children=r(t,a),t.origin=t,0===t.children.length&&(t.isLeaf=!0);return o}const a=e.filter(i=>!e.find(e=>i[t]==e[n]));if(a.forEach(e=>{e.key=e[n],e.title=e[i],e.parentId=e[t],e.origin=e}),!a||0==a.length)return[];for(const o of a)o.children=r(o,e),0===o.children.length&&(o.isLeaf=!0);return a}let $=class extends h.a{constructor(e,n,t,i){super(e),this._organizationUnitService=n,this._treeDataHelperService=t,this.nzContextMenuService=i,this.ouSelected=new a.x,this.ouContextMenuItems=[],this.canManageOrganizationUnits=!1,this._entityTypeFullName="Abp.Organizations.OrganizationUnit",this.totalUnitCount=0}ngOnInit(){this.canManageOrganizationUnits=this.isGranted("Pages.Administration.OrganizationUnits.ManageOrganizationTree"),this.ouContextMenuItems=this.getContextMenuItems(),this.getTreeDataFromServer()}nodeSelect(e){e.origin&&this.ouSelected.emit({id:e.origin.id,displayName:e.origin.displayName})}contextMenu(e,n,t){this.contextMenuData=n,this.nzContextMenuService.create(e,t)}isDroppingBetweenTwoNodes(e){return"LI"===e.originalEvent.target.nodeName}nodeDrop(e){const n=new _.N;let t;n.id=e.dragNode.data.id,this.isDroppingBetweenTwoNodes(e)?(n.newParentId=e.dropNode.parent?e.dropNode.parent.data.id:null,t=e.dropNode.parent?e.dropNode.parent.data.displayName:this.l("Root")):(n.newParentId=e.dropNode.data.id,t=e.dropNode.data.displayName),this.message.confirm(this.l("OrganizationUnitMoveConfirmMessage",e.dragNode.data.displayName,t),this.l("AreYouSure"),e=>{e?this._organizationUnitService.moveOrganizationUnit(n).pipe(Object(H.a)(e=>(this.revertDragDrop(),Object(V.a)(e)))).subscribe(()=>{this.notify.success(this.l("SuccessfullyMoved")),this.reload()}):this.revertDragDrop()})}revertDragDrop(){this.reload()}reload(){this.getTreeDataFromServer()}addUnit(e){this.createOrEditOrganizationUnitModal.show({parentId:e})}unitCreated(e){if(this.getTreeDataFromServer(),e.parentId){const n=this._treeDataHelperService.findNode(this.treeData,{data:{id:e.parentId}});if(!n)return;n.children.push({label:e.displayName,expandedIcon:"fa fa-folder-open m--font-warning",collapsedIcon:"fa fa-folder m--font-warning",selected:!0,children:[],data:e,memberCount:e.memberCount,roleCount:e.roleCount})}else this.treeData.push({label:e.displayName,expandedIcon:"fa fa-folder-open m--font-warning",collapsedIcon:"fa fa-folder m--font-warning",selected:!0,children:[],data:e,memberCount:e.memberCount,roleCount:e.roleCount});this.totalUnitCount+=1}deleteUnit(e){this.message.confirm(this.l("OrganizationUnitDeleteWarningMessage",this.contextMenuData.origin.displayName),this.l("AreYouSure"),e=>{e&&this._organizationUnitService.deleteOrganizationUnit(this.contextMenuData.origin.id).subscribe(()=>{this.notify.success(this.l("SuccessfullyDeleted")),this.selectedOu=null,this.reload()})})}unitUpdated(e){this.getTreeDataFromServer();const n=this._treeDataHelperService.findNode(this.treeData,{data:{id:e.id}});n&&(n.data.displayName=e.displayName,n.label=e.displayName,n.memberCount=e.memberCount,n.roleCount=e.roleCount)}membersAdded(e){this.incrementMemberCount(e.ouId,e.userIds.length)}memberRemoved(e){this.incrementMemberCount(e.ouId,-1)}incrementMemberCount(e,n){const t=this._treeDataHelperService.findNode(this.treeData,{data:{id:e}});t&&(t.data.memberCount+=n,t.memberCount=t.data.memberCount)}rolesAdded(e){this.incrementRoleCount(e.ouId,e.roleIds.length)}roleRemoved(e){this.incrementRoleCount(e.ouId,-1)}incrementRoleCount(e,n){const t=this._treeDataHelperService.findNode(this.treeData,{data:{id:e}});t&&(t.data.roleCount+=n,t.roleCount=t.data.roleCount)}getTreeDataFromServer(){this._organizationUnitService.getOrganizationUnits().subscribe(e=>{this.totalUnitCount=e.items.length,this.treeData=G(e.items,"id","parentId","displayName")})}isEntityHistoryEnabled(){const e=abp.custom;return e.EntityHistory&&e.EntityHistory.isEnabled&&1===U.filter(e.EntityHistory.enabledEntities,e=>e===this._entityTypeFullName).length}getContextMenuItems(){const e=this.isGranted("Pages.Administration.OrganizationUnits.ManageOrganizationTree"),n=[{label:this.l("Edit"),disabled:!e,command:e=>{this.createOrEditOrganizationUnitModal.show({id:this.selectedOu.data.id,displayName:this.selectedOu.data.displayName})}},{label:this.l("AddSubUnit"),disabled:!e,command:()=>{this.addUnit(this.selectedOu.data.id)}},{label:this.l("Delete"),disabled:!e,command:()=>{this.message.confirm(this.l("OrganizationUnitDeleteWarningMessage",this.selectedOu.data.displayName),this.l("AreYouSure"),e=>{e&&this._organizationUnitService.deleteOrganizationUnit(this.selectedOu).subscribe(()=>{this.deleteUnit(this.selectedOu.data.id),this.notify.success(this.l("SuccessfullyDeleted")),this.selectedOu=null,this.reload()})})}}];return this.isEntityHistoryEnabled()&&n.push({label:this.l("History"),disabled:!1,command:e=>{this.entityTypeHistoryModal.show({entityId:this.selectedOu.data.id.toString(),entityTypeFullName:this._entityTypeFullName,entityTypeDescription:this.selectedOu.data.displayName})}}),n}edit(e){this.createOrEditOrganizationUnitModal.show({id:this.contextMenuData.origin.id,displayName:this.contextMenuData.origin.displayName})}addChild(){this.createOrEditOrganizationUnitModal.show({parentId:this.contextMenuData.origin.id,displayName:this.contextMenuData.origin.displayName})}};$.ctorParameters=()=>[{type:a.F},{type:_.R},{type:L.a},{type:q.a}],Object(i.__decorate)([Object(a.S)()],$.prototype,"ouSelected",void 0),Object(i.__decorate)([Object(a.mb)("treeComponent")],$.prototype,"treeComponent",void 0),Object(i.__decorate)([Object(a.mb)("createOrEditOrganizationUnitModal",{static:!0})],$.prototype,"createOrEditOrganizationUnitModal",void 0),Object(i.__decorate)([Object(a.mb)("entityTypeHistoryModal",{static:!0})],$.prototype,"entityTypeHistoryModal",void 0),$=Object(i.__decorate)([Object(a.n)({selector:"organization-tree",template:Object(i.__importDefault)(t("ayPH")).default})],$);let Y=class extends h.b{constructor(e,n){super(e),this._organizationUnitService=n,this.loading=!1,this.columns=[{type:"checkbox",index:"checked"},{title:this.l("UserName"),index:"userName"},{buttons:[{text:this.l("Remove"),click:e=>this.removeMember(e)}]}],this.memberRemoved=new a.x,this.membersAdded=new a.x,this.data=[],this._organizationUnit=null}get organizationUnit(){return this._organizationUnit}set organizationUnit(e){this._organizationUnit!==e&&(this._organizationUnit=e,this.addMemberModal.organizationUnitId=e.id,e&&this.refreshMembers())}fetchDataList(e,n,t){this.getOrganizationUnitUsers()}ngOnInit(){}getOrganizationUnitUsers(e){this._organizationUnit&&(this.loading=!0,this._organizationUnitService.getOrganizationUnitUsers(this._organizationUnit.id,void 0,this.pageSize,(this.pageNumber-1)*this.pageSize).subscribe(e=>{this.totalItems=e.totalCount,this.dataList=e.items,this.loading=!1},()=>this.loading=!1))}reloadPage(){this.getOrganizationUnitUsers()}refreshMembers(){this.reloadPage()}openAddMemberModal(){this.addMemberModal.shown()}removeMember(e){this.message.confirm(this.l("RemoveUserFromOuWarningMessage",e.userName,this.organizationUnit.displayName),this.l("AreYouSure"),n=>{n&&this._organizationUnitService.removeUserFromOrganizationUnit(e.id,this.organizationUnit.id).subscribe(()=>{this.notify.success(this.l("SuccessfullyRemoved")),this.memberRemoved.emit({userId:e.id,ouId:this.organizationUnit.id}),this.refreshMembers()})})}addMembers(e){this.membersAdded.emit({userIds:e.userIds,ouId:e.ouId}),this.refreshMembers()}getSelectedItems(){return this.dataList.filter(e=>e.checked).length}removeMemberBat(){this.message.confirm(this.l("RemoveUserFromOuWarningMessage","",this.organizationUnit.displayName),this.l("AreYouSure"),e=>Object(i.__awaiter)(this,void 0,void 0,(function*(){if(e){for(const e of this.dataList.filter(e=>e.checked))yield this._organizationUnitService.removeUserFromOrganizationUnit(e.id,this.organizationUnit.id).toPromise();this.notify.success(this.l("SuccessfullyRemoved")),this.refreshMembers()}})))}};Y.ctorParameters=()=>[{type:a.F},{type:_.R}],Object(i.__decorate)([Object(a.S)()],Y.prototype,"memberRemoved",void 0),Object(i.__decorate)([Object(a.S)()],Y.prototype,"membersAdded",void 0),Object(i.__decorate)([Object(a.mb)("addMemberModal",{static:!0})],Y.prototype,"addMemberModal",void 0),Object(i.__decorate)([Object(a.mb)("dataTable",{static:!0})],Y.prototype,"dataTable",void 0),Y=Object(i.__decorate)([Object(a.n)({selector:"organization-unit-members",template:Object(i.__importDefault)(t("zq8w")).default})],Y);let X=class extends h.b{constructor(e,n,t){super(e),this._changeDetector=n,this._organizationUnitService=t,this.loading=!1,this.columns=[{type:"checkbox",index:"checked"},{title:this.l("Role"),index:"displayName"},{buttons:[]}],this.roleRemoved=new a.x,this.rolesAdded=new a.x,this._organizationUnit=null;const i=this.columns[this.columns.length-1];this.permission.isGranted("Pages.Administration.OrganizationUnits.ManageRoles")&&i.buttons.push({text:this.l("Remove"),click:e=>this.removeRole(e)})}get organizationUnit(){return this._organizationUnit}set organizationUnit(e){this._organizationUnit!==e&&(this._organizationUnit=e,this.addRoleModal.organizationUnitId=e.id,e&&this.refreshRoles())}fetchDataList(e,n,t){this.getOrganizationUnitRoles()}ngOnInit(){}getOrganizationUnitRoles(e){this._organizationUnit&&(this.loading=!0,this._organizationUnitService.getOrganizationUnitRoles(this._organizationUnit.id,void 0,this.pageSize,this.pageSize*(this.pageNumber-1)).subscribe(e=>{this.totalItems=e.totalCount,this.dataList=e.items,this.loading=!1},()=>this.loading=!1))}reloadPage(){this.getOrganizationUnitRoles()}refreshRoles(){this.reloadPage()}openAddRoleModal(){this.addRoleModal.shown()}removeRole(e){this.message.confirm(this.l("RemoveRoleFromOuWarningMessage",e.displayName,this.organizationUnit.displayName),this.l("AreYouSure"),n=>{n&&this._organizationUnitService.removeRoleFromOrganizationUnit(e.id,this.organizationUnit.id).subscribe(()=>{this.notify.success(this.l("SuccessfullyRemoved")),this.roleRemoved.emit({roleId:e.id,ouId:this.organizationUnit.id}),this.refreshRoles()})})}addRoles(e){this.rolesAdded.emit({roleIds:e.roleIds,ouId:e.ouId}),this.refreshRoles()}getSelectedItems(){return this.dataList.filter(e=>e.checked).length}removeRoleBat(){const e=this.dataList.filter(e=>e.checked);this.message.confirm(this.l("RemoveRoleFromOuWarningMessage","",""),this.l("AreYouSure"),n=>Object(i.__awaiter)(this,void 0,void 0,(function*(){if(n)for(const n of e)yield this._organizationUnitService.removeRoleFromOrganizationUnit(n.id,this.organizationUnit.id).toPromise(),this.notify.success(this.l("SuccessfullyRemoved")),this.refreshRoles()})))}};X.ctorParameters=()=>[{type:a.F},{type:a.k},{type:_.R}],Object(i.__decorate)([Object(a.S)()],X.prototype,"roleRemoved",void 0),Object(i.__decorate)([Object(a.S)()],X.prototype,"rolesAdded",void 0),Object(i.__decorate)([Object(a.mb)("addRoleModal",{static:!0})],X.prototype,"addRoleModal",void 0),Object(i.__decorate)([Object(a.mb)("dataTable",{static:!0})],X.prototype,"dataTable",void 0),X=Object(i.__decorate)([Object(a.n)({selector:"organization-unit-roles",template:Object(i.__importDefault)(t("9M/x")).default})],X);var K=t("ila4");class J{}let Q=class extends h.a{constructor(e,n){super(e),this.injector=e,this.httpUtil=n,this.active=!1,this.onSave=new a.x}show(e){e?(this.pickupId=e.id,this.pickup=e):this.pickup=new J,this.active=!0}save(){this.pickup.topic_id=this.topic.id,this.pickupId?this.httpUtil.post("/api/pickup/update",this.pickup).toPromise().then(e=>{this.onSave.emit(!0),this.active=!1}):this.httpUtil.post("/api/pickup/create",this.pickup).toPromise().then(e=>{this.onSave.emit(!0),this.active=!1})}canSubmit(){return this.pickup.pickup_name}};Q.ctorParameters=()=>[{type:a.F},{type:v.a}],Object(i.__decorate)([Object(a.G)()],Q.prototype,"topic",void 0),Object(i.__decorate)([Object(a.S)()],Q.prototype,"onSave",void 0),Q=Object(i.__decorate)([Object(a.n)({selector:"app-create-or-edit-pickup",template:Object(i.__importDefault)(t("bNtv")).default,styles:[Object(i.__importDefault)(t("kSEU")).default]})],Q);var Z=t("1a4p");let ee=class extends h.a{constructor(e,n){super(e),this._roleService=n,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.role=new _.db}show(e){const n=this;n.active=!0,n._roleService.getRoleForEdit(e).subscribe(e=>{n.role=e.role,this.permissionTree.editData=e})}onShown(){document.getElementById("RoleDisplayName").focus()}save(){const e=new _.n;e.role=this.role,e.grantedPermissionNames=this.permissionTree.getGrantedPermissionNames(),this.saving=!0,this._roleService.createOrUpdateRole(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}};ee.ctorParameters=()=>[{type:a.F},{type:_.eb}],Object(i.__decorate)([Object(a.mb)("permissionTree",{static:!1})],ee.prototype,"permissionTree",void 0),Object(i.__decorate)([Object(a.S)()],ee.prototype,"modalSave",void 0),ee=Object(i.__decorate)([Object(a.n)({selector:"createOrEditRoleModal",template:Object(i.__importDefault)(t("iza6")).default})],ee);var ne=t("DKuU"),te=t("dTa8");let ie=class extends h.a{constructor(e,n){super(n),this._editionService=e,this.editions=[],this.selectedEdition=void 0,this.selectedEditionChange=new a.x}ngOnInit(){this._editionService.getEditionComboboxItems(0,!0,!1).subscribe(e=>{this.editions=e})}};ie.ctorParameters=()=>[{type:_.u},{type:a.F}],Object(i.__decorate)([Object(a.mb)("EditionCombobox",{static:!0})],ie.prototype,"editionComboboxElement",void 0),Object(i.__decorate)([Object(a.G)()],ie.prototype,"selectedEdition",void 0),Object(i.__decorate)([Object(a.S)()],ie.prototype,"selectedEditionChange",void 0),ie=Object(i.__decorate)([Object(a.n)({selector:"edition-combo",template:'\n    <nz-select #EditionCombobox class="form-control" [(ngModel)]="selectedEdition" (ngModelChange)="selectedEditionChange.emit($event)">\n      <nz-option *ngFor="let edition of editions" [nzValue]="edition.value" [nzLabel]="edition.displayText"> </nz-option>\n    </nz-select>\n  '})],ie);let re=class extends h.a{constructor(e,n){super(n),this._treeDataHelperService=e,this.selectedFeatures=[]}set editData(e){this._editData=e,this.setSelectedNodes(e),this.setTreeData(e.features)}setTreeData(e){this.treeData=G(e,"name","parentName","displayName")}setSelectedNodes(e){this.selectedFeatures=[],e.featureValues.forEach(n=>{const t=e.features.find(e=>e.name===n.name);t&&(t.checked=!0)})}setSelectedNode(e,n){let t;"true"===n?(t=this._treeDataHelperService.findNode(this.treeData,{data:{name:e}}),this.selectedFeatures.push(t)):n&&"false"!==n&&(t=this._treeDataHelperService.findNode(this.treeData,{data:{name:e}}),t.value=n,this.selectedFeatures.push(t))}getGrantedFeatures(){if(!this._editData.features)return[];const e=[];for(const n of this._editData.features){const t=new _.P;t.name=n.name,t.value=this.getFeatureValueByName(t.name),e.push(t)}return e}onDropdownChange(e){e.value&&(e.selected=!0)}onInputChange(e){e.value&&(e.selected=!0)}findFeatureByName(e){const n=U.find(this._editData.features,n=>n.name===e);return n||abp.log.warn("Could not find a feature by name: "+e),n}findFeatureValueByName(e){const n=this.findFeatureByName(e);if(!n)return"";const t=U.find(B(this.treeData).map(e=>e.origin),n=>n.name===e);return t?t.value:n.defaultValue}isFeatureValueValid(e,n){const t=this.findFeatureByName(e);if(!t||!t.inputType||!t.inputType.validator)return!0;const i=t.inputType.validator;if("STRING"===i.name){if(null==n)return i.attributes.AllowNull;if("string"!=typeof n)return!1;if(i.attributes.MinLength>0&&n.length<i.attributes.MinLength)return!1;if(i.attributes.MaxLength>0&&n.length>i.attributes.MaxLength)return!1;if(i.attributes.RegularExpression)return new RegExp(i.attributes.RegularExpression).test(n)}else if("NUMERIC"===i.name){const e=parseInt(n,10);if(isNaN(e))return!1;if(i.attributes.MinValue>e)return!1;const t=i.attributes.MaxValue;if(t>0&&e>t)return!1}return!0}areAllValuesValid(){let e=!0;return U.forEach(W(this.treeData).map(e=>e.origin),n=>{const t=this.getFeatureValueByName(n.name);this.isFeatureValueValid(n.name,t)||(e=!1)}),e}setFeatureValueByName(e,n){const t=U.find(this._editData.featureValues,n=>n.name===e);t&&(t.value=n)}isFeatureSelected(e){return 1===W(this.treeData).map(e=>e.origin).filter(n=>n.name===e).length}getFeatureValueByName(e){const n=B(this.treeData).find(n=>n.origin.name===e).origin;return n?n.defaultValue?n.defaultValue:this.isFeatureSelected(e)?"true":"false":null}isFeatureEnabled(e){return"true"===this.findFeatureValueByName(e).toLowerCase()}nodeSelect(e){this._treeDataHelperService.findParent(this.treeData,{data:{name:e.node.data.name}})}onNodeUnselect(e){}};re.ctorParameters=()=>[{type:L.a},{type:a.F}],re=Object(i.__decorate)([Object(a.n)({selector:"feature-tree",template:Object(i.__importDefault)(t("tSos")).default,styles:[Object(i.__importDefault)(t("Y8Dy")).default]})],re);let ae=class extends h.a{constructor(e,n){super(n),this._treeDataHelperService=e,this.cascadeSelectEnabled=!0,this.selectedOus=[],this.filter=""}onChange(e){console.log(e)}set data(e){this.setTreeData(e.allOrganizationUnits),this.setSelectedNodes(e.selectedOrganizationUnits),this._allOrganizationUnits=e.allOrganizationUnits,this._selectedOrganizationUnits=e.selectedOrganizationUnits}setTreeData(e){this.treeData=G(e,"id","parentId","displayName")}setSelectedNodes(e){this.selectedOus=[],U.forEach(e,e=>{const n=this._treeDataHelperService.findNode(this.treeData,{data:{code:e}});n&&this.selectedOus.push(n)})}getSelectedOrganizations(){if(!this.selectedOus)return[];const e=[];return U.forEach(this.selectedOus,n=>{e.push(n.origin.id)}),e}filterOrganizationUnit(e,n){U.forEach(e,e=>{e.data.displayName.toLowerCase().indexOf(n.toLowerCase())>=0?e.styleClass=this.showParentNodes(e):e.styleClass="hidden-tree-node",e.children&&this.filterOrganizationUnit(e.children,n)})}showParentNodes(e){e.parent&&(e.parent.styleClass="",this.showParentNodes(e.parent))}filterOrganizationUnits(e){this.filterOrganizationUnit(this.treeData,this.filter)}nodeSelect(e){if(!this.cascadeSelectEnabled)return;let n=this._treeDataHelperService.findParent(this.treeData,{data:{id:e.node.data.id}});for(;null!=n;)this.selectedOus.push(n),n=this._treeDataHelperService.findParent(this.treeData,{data:{id:n.data.id}})}onNodeUnselect(e){const n=this._treeDataHelperService.findChildren(this.treeData,{data:{name:e.node.data.name}});n.push(e.node.data.name),U.remove(this.selectedOus,e=>-1!==n.indexOf(e.origin.name))}};var oe;ae.ctorParameters=()=>[{type:L.a},{type:a.F}],Object(i.__decorate)([Object(a.G)()],ae.prototype,"cascadeSelectEnabled",void 0),ae=Object(i.__decorate)([Object(a.n)({selector:"organization-unit-tree",template:'\n    <div class="form-group">\n      <input\n      nz-input\n        id="OrganizationUnitsTreeFilter"\n        type="text"\n        (keyup)="filterOrganizationUnits($event)"\n        (change)="filterOrganizationUnits(filter)"\n        [(ngModel)]="filter"\n        class="form-control"\n        placeholder="{{ \'SearchWithThreeDot\' | localize }}"\n      />\n    </div>\n    \x3c!-- <p-tree\n      [value]="treeData"\n      selectionMode="checkbox"\n      [(selection)]="selectedOus"\n      (onNodeSelect)="nodeSelect($event)"\n      (onNodeUnselect)="onNodeUnselect($event)"\n      [propagateSelectionUp]="false"\n      [propagateSelectionDown]="cascadeSelectEnabled"\n    ></p-tree> --\x3e\n\n      <nz-tree-select\n      [nzData]="treeData"\n      nzShowSearch\n      nzPlaceHolder="Please select"\n      (ngModelChange)="onChange($event)"\n      [(ngModel)]="selectedOus"\n    >\n    </nz-tree-select>\n  '})],ae);let se=oe=class extends h.a{constructor(e,n){super(n),this._permissionService=e,this.permissions=[],this.selectedPermission=new o.d(""),this.onTouched=()=>{}}ngOnInit(){this._permissionService.getAllPermissions().subscribe(e=>{U.forEach(e.items,e=>{e.displayName=Array(e.level+1).join("---")+" "+e.displayName}),this.permissions=e.items})}writeValue(e){this.selectedPermission&&this.selectedPermission.setValue(e)}registerOnChange(e){this.selectedPermission.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.selectedPermission.disable():this.selectedPermission.enable()}};se.ctorParameters=()=>[{type:_.W},{type:a.F}],se=oe=Object(i.__decorate)([Object(a.n)({selector:"permission-combo",template:'\n    <select class="form-control" [formControl]="selectedPermission">\n      <option value="">{{ "FilterByPermission" | localize }}</option>\n      <option *ngFor="let permission of permissions" [value]="permission.name">{{ permission.displayName }}</option>\n    </select>\n  ',providers:[{provide:o.i,useExisting:Object(a.tb)(()=>oe),multi:!0}]})],se);let le=class extends h.a{constructor(e,n){super(e),this._permissionService=n,this.closed=new a.x,this.visible=!1,this.selectedPermissions=[],this.NumberOfFilteredPermission=0,this.treeNodes=[]}ngOnInit(){this.loadAllPermissionsToFilterTree()}openPermissionTreeModal(){}closePermissionTreeModal(){this.NumberOfFilteredPermission=this.getSelectedPermissions().length,abp.notify.success(this.l("XCountPermissionFiltered",this.NumberOfFilteredPermission)),this.closed.emit(this.getSelectedPermissions())}getSelectedPermissions(){return(e=this.treeNodes,B(e).filter(e=>e.isSelectable)).map(e=>e.origin.name);var e}change(){this.closed.emit()}loadAllPermissionsToFilterTree(){const e=[];this._permissionService.getAllPermissions().subscribe(n=>{n.items&&n.items.forEach(n=>{e.push(new _.E({name:n.name,description:n.description,displayName:n.displayName,isGrantedByDefault:n.isGrantedByDefault,parentName:n.parentName}))}),this.treeNodes=G(e,"name","parentName","displayName")})}};le.ctorParameters=()=>[{type:a.F},{type:_.W}],Object(i.__decorate)([Object(a.S)()],le.prototype,"closed",void 0),le=Object(i.__decorate)([Object(a.n)({selector:"permission-tree-modal",template:Object(i.__importDefault)(t("BX2c")).default})],le);let de=class extends h.a{constructor(e,n){super(n),this._treeDataHelperService=e,this.selectedPermissions=[],this.filter=""}set editData(e){this.setTreeData(e)}setTreeData(e){const n=e.permissions.filter(n=>!e.permissions.some(e=>e.parentName===n.name)).filter(n=>-1!==e.grantedPermissionNames.indexOf(n.name));this.selectedPermissions=n.map(e=>e.name),this.treeData=G(e.permissions,"name","parentName","displayName")}getGrantedPermissionNames(){return W(this.tree.getTreeNodes()).map(e=>e.origin.name)}onNodeUnselect(e){}filterPermissions(e){const n=this.tree.getTreeNodes();this.filterPermission(n,this.filter)}filterPermission(e,n){U.forEach(e,e=>{e.data.displayName.toLowerCase().indexOf(n.toLowerCase())>=0?e.styleClass=this.showParentNodes(e):e.styleClass="hidden-tree-node",e.children&&this.filterPermission(e.children,n)})}showParentNodes(e){e.parent&&(e.parent.styleClass="",this.showParentNodes(e.parent))}};var ce;de.ctorParameters=()=>[{type:L.a},{type:a.F}],Object(i.__decorate)([Object(a.mb)("tree")],de.prototype,"tree",void 0),de=Object(i.__decorate)([Object(a.n)({selector:"permission-tree",template:'\n    <div class="form-group">\n      <input nz-input type="text" (input)="filterPermissions($event)" [(ngModel)]="filter" class="form-control" placeholder="{{ \'SearchWithThreeDot\' | localize }}" />\n    </div>\n\n      <nz-tree\n      [nzData]="treeData"\n      nzCheckable\n      nzMultiple\n      [nzExpandAll]="true"\n      [nzCheckedKeys]="selectedPermissions"\n    \n      (nzCheckBoxChange)="onNodeUnselect($event)"\n      #tree\n    >\n    </nz-tree>\n  '})],de);let me=ce=class extends h.a{constructor(e,n){super(n),this._roleService=e,this.roles=[],this.selectedRole=new o.d(""),this.onTouched=()=>{}}ngOnInit(){this._roleService.getRoles(void 0).subscribe(e=>{this.roles=e.items})}writeValue(e){this.selectedRole&&this.selectedRole.setValue(e)}registerOnChange(e){this.selectedRole.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.selectedRole.disable():this.selectedRole.enable()}};me.ctorParameters=()=>[{type:_.eb},{type:a.F}],me=ce=Object(i.__decorate)([Object(a.n)({selector:"role-combo",template:'\n    <nz-select class="form-control" [formControl]="selectedRole">\n      <nz-option [nzValue]="">{{ "FilterByRole" | localize }}</nz-option>\n      <nz-option *ngFor="let role of roles" [nzValue]="role.id">{{ role.displayName }}</nz-option>\n    </nz-select>\n  ',providers:[{provide:o.i,useExisting:Object(a.tb)(()=>ce),multi:!0}]})],me);let pe=class extends h.a{constructor(e,n,t,i){super(e),this._tenantService=n,this._commonLookupService=t,this._profileService=i,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.setRandomPassword=!0,this.useHostDb=!0,this.editions=[],this.passwordComplexitySetting=new _.S,this.isUnlimited=!1,this.isSubscriptionFieldsVisible=!1,this.isSelectedEditionFree=!1,this.tenantAdminPasswordRepeat=""}show(){this.active=!0,this.init(),this._profileService.getPasswordComplexitySetting().subscribe(e=>{this.passwordComplexitySetting=e.setting})}onShown(){document.getElementById("TenancyName").focus()}init(){this.tenant=new _.q,this.tenant.isActive=!0,this.tenant.shouldChangePasswordOnNextLogin=!0,this.tenant.sendActivationEmail=!0,this.tenant.editionId=0,this.tenant.isInTrialPeriod=!1,this._commonLookupService.getEditionsForCombobox(!1).subscribe(e=>{this.editions=e.items;const n=new _.ob;n.value="",n.displayText=this.l("NotAssigned"),this.editions.unshift(n),this._commonLookupService.getDefaultEditionName().subscribe(e=>{const n=U.filter(this.editions,{displayText:e.name});n&&n[0]&&(this.tenant.editionId=parseInt(n[0].value,10),this.toggleSubscriptionFields())})})}getEditionValue(e){return parseInt(e.value,10)}selectedEditionIsFree(){const e=U.filter(this.editions,{value:this.tenant.editionId.toString()}).map(e=>Object.assign(new _.ob,e));1!==e.length&&(this.isSelectedEditionFree=!0);const n=e[0];return this.isSelectedEditionFree=n.isFree,this.isSelectedEditionFree}subscriptionEndDateIsValid(){return this.tenant.editionId<=0||(!!this.isUnlimited||!!this.tenant.subscriptionEndDateUtc)}save(){this.saving=!0,this.setRandomPassword&&(this.tenant.adminPassword=null),0===this.tenant.editionId&&(this.tenant.editionId=null),(this.isUnlimited||this.tenant.editionId<=0)&&(this.tenant.subscriptionEndDateUtc=null),this._tenantService.createTenant(this.tenant).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.tenantAdminPasswordRepeat=""}onEditionChange(){this.tenant.isInTrialPeriod=this.tenant.editionId>0&&!this.selectedEditionIsFree(),this.toggleSubscriptionFields()}toggleSubscriptionFields(){this.isSelectedEditionFree=this.selectedEditionIsFree(),this.tenant.editionId<=0||this.isSelectedEditionFree?(this.isSubscriptionFieldsVisible=!1,this.isUnlimited=this.isSelectedEditionFree):this.isSubscriptionFieldsVisible=!0}};pe.ctorParameters=()=>[{type:a.F},{type:_.wb},{type:_.k},{type:_.X}],Object(i.__decorate)([Object(a.S)()],pe.prototype,"modalSave",void 0),pe=Object(i.__decorate)([Object(a.n)({selector:"createTenantModal",template:Object(i.__importDefault)(t("hDhq")).default})],pe);let ue=class extends h.a{constructor(e,n,t){super(e),this._tenantService=n,this._commonLookupService=t,this.modalSave=new a.x,this.active=!1,this.saving=!1,this.isUnlimited=!1,this.subscriptionEndDateUtcIsValid=!1,this.tenant=void 0,this.editions=[],this.isSubscriptionFieldsVisible=!1}show(e){this.active=!0,this._commonLookupService.getEditionsForCombobox(!1).subscribe(n=>{this.editions=n.items;const t=new _.ob;t.displayText=this.l("NotAssigned"),t.value="",this.editions.unshift(t),this._tenantService.getTenantForEdit(e).subscribe(e=>{this.tenant=e,this.currentConnectionString=e.connectionString,this.tenant.editionId=this.tenant.editionId||0,this.isUnlimited=!this.tenant.subscriptionEndDateUtc,this.subscriptionEndDateUtcIsValid=this.isUnlimited||void 0!==this.tenant.subscriptionEndDateUtc,this.toggleSubscriptionFields()})})}onShown(){document.getElementById("Name").focus(),this.tenant.subscriptionEndDateUtc&&(this.subscriptionEndDateUtc.nativeElement.value=this.tenant.subscriptionEndDateUtc.format("L"))}subscriptionEndDateChange(e){this.subscriptionEndDateUtcIsValid=e&&!1!==e.date||this.isUnlimited}selectedEditionIsFree(){if(!this.tenant.editionId)return!0;const e=U.filter(this.editions,{value:this.tenant.editionId+""});if(1!==e.length)return!0;return e[0].isFree}save(){this.saving=!0,0===this.tenant.editionId&&(this.tenant.editionId=null),!this.isUnlimited&&this.tenant.editionId||(this.tenant.subscriptionEndDateUtc=null),this._tenantService.updateTenant(this.tenant).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1}onEditionChange(){this.selectedEditionIsFree()&&(this.tenant.isInTrialPeriod=!1),this.toggleSubscriptionFields()}onUnlimitedChange(){this.isUnlimited?(this.tenant.subscriptionEndDateUtc=null,this.subscriptionEndDateUtcIsValid=!0):this.tenant.subscriptionEndDateUtc||(this.subscriptionEndDateUtcIsValid=!1)}toggleSubscriptionFields(){this.isSubscriptionFieldsVisible=this.tenant.editionId>0}};ue.ctorParameters=()=>[{type:a.F},{type:_.wb},{type:_.k}],Object(i.__decorate)([Object(a.mb)("nameInput",{static:!0})],ue.prototype,"nameInput",void 0),Object(i.__decorate)([Object(a.mb)("SubscriptionEndDateUtc",{static:!1})],ue.prototype,"subscriptionEndDateUtc",void 0),Object(i.__decorate)([Object(a.S)()],ue.prototype,"modalSave",void 0),ue=Object(i.__decorate)([Object(a.n)({selector:"editTenantModal",template:Object(i.__importDefault)(t("Eigk")).default})],ue);let he=class extends h.a{constructor(e,n){super(e),this._tenantService=n,this.active=!1,this.saving=!1,this.resettingFeatures=!1,this.featureEditData=null}show(e,n){this.tenantId=e,this.tenantName=n,this.active=!0,this.loadFeatures()}loadFeatures(){const e=this;e._tenantService.getTenantFeaturesForEdit(this.tenantId).subscribe(n=>{e.featureTree.editData=n})}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const e=new _.Gb;e.id=this.tenantId,e.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._tenantService.updateTenantFeatures(e).pipe(Object(I.a)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetFeatures(){const e=new _.w;e.id=this.tenantId,this.resettingFeatures=!0,this._tenantService.resetTenantSpecificFeatures(e).pipe(Object(I.a)(()=>this.resettingFeatures=!1)).subscribe(()=>{this.notify.info(this.l("ResetSuccessfully")),this.loadFeatures()})}close(){this.active=!1}};he.ctorParameters=()=>[{type:a.F},{type:_.wb}],Object(i.__decorate)([Object(a.mb)("featureTree",{static:!1})],he.prototype,"featureTree",void 0),he=Object(i.__decorate)([Object(a.n)({selector:"tenantFeaturesModal",template:Object(i.__importDefault)(t("RPN6")).default})],he);var ge=t("HP4u");class ze{}let fe=class extends h.a{constructor(e,n){super(e),this.httpUtil=n,this.topic=new ze,this.active=!1,this.options=[],this.modalSave=new a.x,this.addressList=[]}save(){this.topic.province=this.addressList[0],this.topic.city=this.addressList[1],this.topic.area=this.addressList[2],delete this.topic._values,this.id?this.httpUtil.post("/api/topic/update",this.topic).toPromise().then(()=>{this.modalSave.emit(!0),this.active=!1}):this.httpUtil.post("/api/topic/create",this.topic).toPromise().then(()=>{this.modalSave.emit(!0),this.active=!1})}get canSubmit(){return!(this.addressList.length<3)&&!!this.topic.name}show(e){e?(this.id=e.id,this.topic=e,this.addressList=[e.province,e.city,e.area]):this.topic=new ze,this.active=!0,this.loadCityData()}loadCityData(){return Object(i.__awaiter)(this,void 0,void 0,(function*(){let e=yield this.httpUtil.get("/assets/citys.json").toPromise();this.options=e.map(e=>(e.title=e.name,e.label=e.name,e.value=e.name,e.children=e.city.map(e=>(e.children=e.area.map(e=>({title:e,label:e,value:e,isLeaf:!0})),e.title=e.name,e.label=e.name,e.value=e.name,e)),e))}))}};fe.ctorParameters=()=>[{type:a.F},{type:v.a}],Object(i.__decorate)([Object(a.S)()],fe.prototype,"modalSave",void 0),fe=Object(i.__decorate)([Object(a.n)({selector:"app-create-or-edit-topic",template:Object(i.__importDefault)(t("GupK")).default,styles:[Object(i.__importDefault)(t("H8yg")).default]})],fe);var be=t("47vk"),ve=t("f0ZS"),ye=t("UcqP");let Se=class extends ye.a{constructor(e,n){super(e),this.injector=e,this._userService=n,this.visible=!1,this.modalSave=new a.x,this.saving=!1,this.nodes=[],this.value=[]}ngOnInit(){}show(e,n){this.userId=e,this.userName=n,this._userService.getUserPermissionsForEdit(e).subscribe(e=>{this.value=e.grantedPermissionNames,this.nodes=G(e.permissions,"name","parentName","displayName"),this.visible=!0})}hide(){this.visible=!1}submit(){const e=W(this.nodes),n=new _.Hb;n.grantedPermissionNames=e.map(e=>e.origin.name),n.id=this.userId,this.saving=!0,this._userService.updateUserPermissions(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.saving=!1,this.close()},()=>{this.saving=!1,this.close()})}close(){this.modalSave.emit(),this.visible=!1}resetPermissions(){const e=new _.x;e.id=this.userId,this.saving=!0,this._userService.resetUserSpecificPermissions(e).subscribe({next:()=>{this.notify.info(this.l("ResetSuccessfully")),this._userService.getUserPermissionsForEdit(this.userId).subscribe(e=>{this.value=e.grantedPermissionNames,this.nodes=G(e.permissions,"name","parentName","displayName")})},complete:()=>{this.close(),this.saving=!1}})}};Se.ctorParameters=()=>[{type:a.F},{type:_.Lb}],Object(i.__decorate)([Object(a.S)()],Se.prototype,"modalSave",void 0),Object(i.__decorate)([Object(a.mb)("treeSelect")],Se.prototype,"treeSelect",void 0),Se=Object(i.__decorate)([Object(a.n)({selector:"app-edit-user-permissions-modal",template:Object(i.__importDefault)(t("IEtI")).default,styles:[Object(i.__importDefault)(t("yVst")).default]})],Se);var xe=t("yk/H"),Oe=t("nRu7");let _e=class{};_e=Object(i.__decorate)([Object(a.L)({imports:[d.a,o.g,l.a,o.o,r.c,u.a,s.a,p.a,m.a,c.a],declarations:[b.a,f.a,z,Oe.a,ve.a,ae,Se,K.a,X,Y,$,R,A,j,me,de,se,le,ne.a,ee,F.a,P.a,M,E,k.a,te.a,ge.a,he,ue,pe,re,ie,w.a,D,T,C,Z.a,be.a,fe,Q,x.a,S],entryComponents:[ve.a],providers:[xe.a]})],_e)},kCyd:function(e,n){e.exports='<nz-modal [nzVisible]="active" (nzOnOk)="save()" (nzOnCancel)="close()" [nzOkDisabled]="saving"\r\n  [nzCancelDisabled]="saving">\r\n  <div class="modal-dialog modal-lg">\r\n    <div class="modal-content">\r\n      <form #MoveTenantsForm="ngForm" (ngSubmit)="save()" *ngIf="active" novalidate>\r\n        <div class="modal-header">\r\n          <h5 class="modal-title">\r\n            <span>{{ "MoveTenantsOfEdition" | localize }}</span>\r\n          </h5>\r\n          <button (click)="close()" [attr.aria-label]="l(\'Close\')" class="close" type="button">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="form-group">\r\n            <a [href]="appBaseUrl + \'/app/admin/tenants?editionId=\' + moveTenantsInput.sourceEditionId"\r\n              [queryParams]="{ editionId: moveTenantsInput.sourceEditionId }" [routerLink]="[\'/app/admin/tenants\']"\r\n              target="_blank">\r\n              {{ "MoveTenantsOfEditionDescription" | localize: tenantCount }}\r\n            </a>\r\n          </div>\r\n          <div class="form-group">\r\n            <label>{{ "Edition" | localize }}</label>\r\n            <nz-select [(ngModel)]="moveTenantsInput.targetEditionId" class="form-control" name="expiringEdition"\r\n              style="width: 250px" required>\r\n              <nz-option value="" [nzLabel]=" l(\'Select\') "></nz-option>\r\n              <nz-option *ngFor="let targetEdition of targetEditions" [nzValue]="targetEdition.value"\r\n                [nzLabel]="targetEdition.displayText">\r\n              </nz-option>\r\n            </nz-select>\r\n          </div>\r\n        </div>\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n</nz-modal>'},kSEU:function(e,n,t){"use strict";t.r(n),n.default=""},nmkx:function(e,n,t){"use strict";t.r(n),n.default=""},tSos:function(e,n){e.exports='\x3c!--suppress TypeScriptUnresolvedVariable --\x3e\r\n\r\n<nz-tree [nzData]="treeData" nzCheckable nzMultiple [nzExpandAll]="true">\r\n  <ng-template #nzTreeTemplate let-node let-origin="origin">\r\n    <span class="custom-node">\r\n      <span *ngIf="!node.isLeaf">\r\n        <i nz-icon [nzType]="node.isExpanded ? \'folder-open\' : \'folder\'"></i>\r\n\r\n        <span class="folder-name">{{ node.title }}</span>\r\n        <ng-container *ngIf="node.origin.name==\'App.MaxUserCount\'">\r\n          <nz-input-number [(ngModel)]="node.origin.defaultValue"></nz-input-number>\r\n        </ng-container>\r\n      </span>\r\n      <span *ngIf="node.isLeaf">\r\n        <i nz-icon nzType="file"></i>\r\n\r\n        <span class="file-name"> {{ node.title }}</span>\r\n        <ng-container *ngIf="node.origin.name==\'App.MaxUserCount\'">\r\n          <nz-input-number [(ngModel)]="node.origin.defaultValue"></nz-input-number>\r\n        </ng-container>\r\n      </span>\r\n    </span>\r\n  </ng-template>\r\n\r\n</nz-tree>\r\n\x3c!-- <ng-template let-node pTemplate="default">\r\n    <span style="margin-right: 5px;">{{ node.label }}</span>\r\n    <input (change)="onInputChange(node)" *ngIf="node.data.inputType.name === \'SINGLE_LINE_STRING\'"\r\n      [(ngModel)]="node.value" [attr.name]="node.data.name"\r\n      type="{{ node.data.inputType.validator.name === \'NUMERIC\' ? \'number\' : \'text\' }}" />\r\n    <select (change)="onDropdownChange(node)" *ngIf="node.data.inputType.name === \'COMBOBOX\'" [(ngModel)]="node.value">\r\n      <option *ngFor="let item of node.data.inputType.itemSource.items" [value]="item.value">{{ item.displayText }}\r\n      </option>\r\n    </select>\r\n  </ng-template> --\x3e'},uY72:function(e,n){e.exports='<ng-container *ngIf="active">\r\n  <nz-modal [nzVisible]="active" [nzOkDisabled]="saving" [nzCancelDisabled]="saving" (nzOnOk)="save()"\r\n    (nzOnCancel)="close()">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <form #editionForm="ngForm" (ngSubmit)="save()" novalidate>\r\n          <div class="modal-header">\r\n            <h5 class="modal-title">\r\n              <span>{{ "CreateNewEdition" | localize }}</span>\r\n            </h5>\r\n            <button (click)="close()" [attr.aria-label]="l(\'Close\')" [disabled]="saving" class="close" type="button">\r\n              <span aria-hidden="true">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class="modal-body">\r\n            <nz-tabset>\r\n              <nz-tab nzTitle="{{ \'EditionProperties\' | localize }}">\r\n                <nz-form-item>\r\n                  <nz-form-label for="EditionDisplayName" nzRequired>{{ "EditionName" | localize }} </nz-form-label>\r\n                  <nz-form-control>\r\n                    <input nz-input #editionNameInput="ngModel" [(ngModel)]="edition.edition.displayName"\r\n                      class="form-control" id="EditionDisplayName" maxlength="64" name="EditionDisplayName" required\r\n                      type="text" />\r\n                    <validation-messages [formCtrl]="editionNameInput"></validation-messages>\r\n                  </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <label>{{ "SubscriptionPrice" | localize }}</label>\r\n                <div class="kt-radio-inline">\r\n                  <label class="kt-radio" for="EditEdition_IsFree">\r\n                    <input (ngModelChange)="resetPrices($event)" [(ngModel)]="isFree" [value]="true"\r\n                      id="EditEdition_IsFree" name="SubscriptionPrice" type="radio" />\r\n                    {{ "Free" | localize }}\r\n                    <span></span>\r\n                  </label>\r\n                  <label class="kt-radio" for="EditEdition_IsPaid">\r\n                    <input [(ngModel)]="isFree" [value]="false" id="EditEdition_IsPaid" name="SubscriptionPrice"\r\n                      type="radio" />\r\n                    {{ "Paid" | localize }}\r\n                    <span></span>\r\n                  </label>\r\n                </div>\r\n                <div *ngIf="!isFree" class="row">\r\n                  <div class="col-md-6">\r\n                    <div class="form-group">\r\n                      <label for="DailyPrice">{{ "DailyPrice" | localize }}</label>\r\n                      <div class="input-group">\r\n                        <div class="input-group-prepend">\r\n                          <span class="input-group-text">{{ appSession.application.currencySign }}</span>\r\n                        </div>\r\n                        \x3c!-- <input #dailyPriceInput="ngModel" [(ngModel)]="edition.edition.dailyPrice"\r\n                          [ngClass]="{ edited: edition.edition.dailyPrice }" [required]="!isFree"\r\n                          [textMask]="{ mask: currencyMask }" autocomplete="off" class="form-control" id="DailyPrice"\r\n                          name="DailyPrice" type="text" /> --\x3e\r\n                      </div>\r\n                      \x3c!-- <validation-messages [formCtrl]="dailyPriceInput"></validation-messages> --\x3e\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-6">\r\n                    <div class="form-group">\r\n                      <label for="WeeklyPrice">{{ "WeeklyPrice" | localize }}</label>\r\n                      <div class="input-group">\r\n                        <div class="input-group-prepend">\r\n                          <span class="input-group-text">{{ appSession.application.currencySign }}</span>\r\n                        </div>\r\n                        \x3c!-- <input #weeklyPriceInput="ngModel" [(ngModel)]="edition.edition.weeklyPrice"\r\n                          [ngClass]="{ edited: edition.edition.weeklyPrice }" [required]="!isFree"\r\n                          [textMask]="{ mask: currencyMask }" autocomplete="off" class="form-control" id="WeeklyPrice"\r\n                          name="WeeklyPrice" type="text" /> --\x3e\r\n                      </div>\r\n                      \x3c!-- <validation-messages [formCtrl]="weeklyPriceInput"></validation-messages> --\x3e\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class="col-md-6">\r\n                    <div class="form-group">\r\n                      <label for="MonthlyPrice">{{ "MonthlyPrice" | localize }}</label>\r\n                      <div class="input-group">\r\n                        <div class="input-group-prepend">\r\n                          <span class="input-group-text">{{ appSession.application.currencySign }}</span>\r\n                        </div>\r\n                        \x3c!-- <input #monthlyPriceInput="ngModel" [(ngModel)]="edition.edition.monthlyPrice"\r\n                          [ngClass]="{ edited: edition.edition.monthlyPrice }" [required]="!isFree"\r\n                          [textMask]="{ mask: currencyMask }" autocomplete="off" class="form-control" id="MonthlyPrice"\r\n                          name="MonthlyPrice" type="text" /> --\x3e\r\n                      </div>\r\n                      \x3c!-- <validation-messages [formCtrl]="monthlyPriceInput"></validation-messages> --\x3e\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-6">\r\n                    <div class="form-group">\r\n                      <label for="AnnualPrice">{{ "AnnualPrice" | localize }}</label>\r\n                      <div class="input-group">\r\n                        <div class="input-group-prepend">\r\n                          <span class="input-group-text">{{ appSession.application.currencySign }}</span>\r\n                        </div>\r\n                        \x3c!-- <input #annualPriceInput="ngModel" [(ngModel)]="edition.edition.annualPrice"\r\n                          [ngClass]="{ edited: edition.edition.annualPrice }" [required]="!isFree"\r\n                          [textMask]="{ mask: currencyMask }" autocomplete="off" class="form-control" id="AnnualPrice"\r\n                          name="AnnualPrice" type="text" /> --\x3e\r\n                      </div>\r\n                      \x3c!-- <validation-messages [formCtrl]="annualPriceInput"></validation-messages> --\x3e\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div [hidden]="isFree" class="paid-features">\r\n                  <div class="kt-checkbox-list">\r\n                    <label class="kt-checkbox" for="EditEdition_IsTrialActive">\r\n                      <input [(ngModel)]="isTrialActive" id="EditEdition_IsTrialActive" name="isTrialActive"\r\n                        type="checkbox" />\r\n                      {{ "IsTrialActive" | localize }}\r\n                      <span></span>\r\n                    </label>\r\n                  </div>\r\n                  <div *ngIf="isTrialActive" class="form-group trial-day-count">\r\n                    <label for="TrialDayCount">{{ "TrialDayCount" | localize }}</label>\r\n                    <input #trialDayCountInput="ngModel" [(ngModel)]="edition.edition.trialDayCount"\r\n                      [ngClass]="{ edited: edition.edition.trialDayCount }" [required]="isTrialActive"\r\n                      class="form-control" id="TrialDayCount" name="TrialDayCount" type="number" />\r\n                    <validation-messages [formCtrl]="trialDayCountInput"></validation-messages>\r\n                  </div>\r\n                  <div class="kt-checkbox-list">\r\n                    <label class="kt-checkbox" for="EditEdition_IsWaitingDayActive">\r\n                      <input [(ngModel)]="isWaitingDayActive" id="EditEdition_IsWaitingDayActive"\r\n                        name="IsWaitingDayActive" type="checkbox" />\r\n                      {{ "WaitAfterSubscriptionExpireDate" | localize }}\r\n                      <span></span>\r\n                    </label>\r\n                  </div>\r\n                  <div *ngIf="isWaitingDayActive" class="form-group waiting-day-after-expire">\r\n                    <label for="WaitingDayAfterExpire">{{ "WaitingDayAfterExpire" | localize }}</label>\r\n                    <input #waitingDayAfterExpireInput="ngModel" [(ngModel)]="edition.edition.waitingDayAfterExpire"\r\n                      [ngClass]="{ edited: edition.edition.waitingDayAfterExpire }" [required]="isWaitingDayActive"\r\n                      class="form-control" id="WaitingDayAfterExpire" name="WaitingDayAfterExpire" type="number" />\r\n                    <validation-messages [formCtrl]="waitingDayAfterExpireInput"></validation-messages>\r\n                  </div>\r\n                  <label>{{ "WhatWillDoneAfterSubscriptionExpiry" | localize }}</label>\r\n                  <div class="kt-radio-inline">\r\n                    <label class="kt-radio" for="EditEdition_ExpireAction_DeactiveUser">\r\n                      <input (ngModelChange)="removeExpiringEdition($event)" [(ngModel)]="expireAction"\r\n                        [value]="expireActionEnum.DeactiveTenant" id="EditEdition_ExpireAction_DeactiveUser"\r\n                        name="ExpireAction" type="radio" />\r\n                      {{ "DeactiveTenant" | localize }}\r\n                      <span></span>\r\n                    </label>\r\n                    <label class="kt-radio" for="EditEdition_ExpireAction_AssignEdition">\r\n                      <input [(ngModel)]="expireAction" [value]="expireActionEnum.AssignToAnotherEdition"\r\n                        id="EditEdition_ExpireAction_AssignEdition" name="ExpireAction" type="radio" />\r\n                      {{ "AssignToAnotherEdition" | localize }}\r\n                      <span></span>\r\n                    </label>\r\n                  </div>\r\n                  <div *ngIf="expireAction == expireActionEnum.AssignToAnotherEdition" class="form-group edition-list">\r\n                    <nz-select [(ngModel)]="edition.edition.expiringEditionId"\r\n                      [attr.min]="expireAction == expireActionEnum.AssignToAnotherEdition ? 1 : 0" class="form-control"\r\n                      name="expiringEdition">\r\n                      <nz-option *ngFor="let expiringEdition of expiringEditions" [nzValue]="expiringEdition.value"\r\n                        [nzLabel]="expiringEdition.displayText ">\r\n                      </nz-option>\r\n                    </nz-select>\r\n                  </div>\r\n                </div>\r\n              </nz-tab>\r\n              <nz-tab nzTitle="{{ \'Features\' | localize }}">\r\n                <feature-tree #featureTree></feature-tree>\r\n              </nz-tab>\r\n            </nz-tabset>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-modal>\r\n</ng-container>'},yVst:function(e,n,t){"use strict";t.r(n),n.default=""},zq8w:function(e,n){e.exports='\x3c!--suppress TypeScriptUnresolvedVariable --\x3e\r\n<div nz-row>\r\n    <div nz-col nzSpan="18">\r\n        <nz-input-group [nzAddOnAfter]="suffixIconButton" nzSearch>\r\n            <input type="text" nz-input [placeholder]="l(\'Search\')" />\r\n            <ng-template #suffixIconButton>\r\n                <button nz-button nzType="primary" (click)="getOrganizationUnitUsers()" nzSearch><i nz-icon\r\n                        nzType="search"></i></button>\r\n            </ng-template>\r\n        </nz-input-group>\r\n\r\n\r\n    </div>\r\n    <div nz-col nzSpan="6">\r\n        \x3c!-- Todo: --\x3e\r\n        <a nz-button nzType="link"\r\n            *ngIf="(\'Pages.Administration.OrganizationUnits.ManageMembers\' | permission) && organizationUnit"\r\n            (click)="addMemberModal.shown()"><i nz-icon nzType="plus"></i>{{l(\'AddMember\')}}</a>\r\n        <a nz-button nzType="link" (click)="removeMemberBat()"> <i nz-icon nzType="delete"></i> {{l(\'Remove\')}} </a>\r\n    </div>\r\n</div>\r\n<div nz-row>\r\n    <nz-alert style="width: 100%;padding-top:20px;padding-bottom: 20px;" nzType="info"\r\n        [nzMessage]="\'\u5df2\u9009\u62e9\'+getSelectedItems()+\'\u6761\'" nzShowIcon>\r\n    </nz-alert>\r\n    \x3c!-- <div class="col-12"> --\x3e\r\n    <st style="width: 100%;" [widthMode]="\'default\'" [data]="dataList" [columns]="columns" [loading]="loading"\r\n        [page]="{pageNumber:pageNumber,show:show,totalItems:totalItems,totalPages:totalPages}"></st>\r\n    \x3c!-- <div id="OuMembersTable"> --\x3e\r\n\r\n    \x3c!--<Primeng-TurboTable-Start>--\x3e\r\n    \x3c!-- <div [hidden]="!organizationUnit" class="primeng-datatable-container"> --\x3e\r\n    \x3c!-- <p-table #dataTable (onLazyLoad)="getOrganizationUnitUsers($event)" [lazy]="true" [paginator]="false"\r\n                    [responsive]="primengTableHelper.isResponsive" [value]="primengTableHelper.records"\r\n                    rows="{{ primengTableHelper.defaultRecordsCountPerPage }}">\r\n                    <ng-template pTemplate="header">\r\n                        <tr>\r\n                            <th [hidden]="!(\'Pages.Administration.OrganizationUnits.ManageMembers\' | permission)"\r\n                                style="width: 15%">{{ "Delete" | localize }}</th>\r\n                            <th pSortableColumn="userName">\r\n                                {{ "UserName" | localize }}\r\n                                \x3c!-- <p-sortIcon field="userName"></p-sortIcon> --\r\n                            </th>\r\n                            <th pSortableColumn="addedTime">\r\n                                {{ "AddedTime" | localize }}\r\n                                \x3c!-- <p-sortIcon field="addedTime"></p-sortIcon> --\r\n                            </th>\r\n                        </tr>\r\n                    </ng-template>\r\n                    <ng-template let-record="$implicit" pTemplate="body">\r\n                        <tr>\r\n                            <td [hidden]="!(\'Pages.Administration.OrganizationUnits.ManageMembers\' | permission)">\r\n                                <button (click)="removeMember(record)" class="btn btn-outline-danger btn-icon"\r\n                                    title="{{ \'Delete\' | localize }}">\r\n                                    <i [attr.aria-label]="l(\'Delete\')" class="fa fa-times"></i>\r\n                                </button>\r\n                            </td>\r\n                            <td>\r\n                                <span class="ui-column-title">{{ "UserName" | localize }}</span>\r\n                                {{ record.userName }}\r\n                            </td>\r\n                            <td>\r\n                                <span class="ui-column-title">{{ "AddedTime" | localize }}</span>\r\n                                {{ record.addedTime | momentFormat: "L" }}\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </p-table> --\x3e\r\n    \x3c!-- <div *ngIf="data.length == 0" class="primeng-no-data">\r\n                    {{ l("NoData")  }}\r\n                </div>\r\n                <div class="primeng-paging-container">\r\n                    \x3c!-- <p-paginator #paginator (onPageChange)="getOrganizationUnitUsers($event)"\r\n                        [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"\r\n                        [rows]="primengTableHelper.defaultRecordsCountPerPage"\r\n                        [totalRecords]="primengTableHelper.totalRecordsCount">\r\n                    </p-paginator> --\r\n                    <span class="total-records-count">\r\n                        {{ l("TotalRecordsCount") }}\r\n                    </span>\r\n                </div>\r\n            </div> --\x3e\r\n    \x3c!--<Primeng-TurboTable-End>--\x3e\r\n    \x3c!-- </div> --\x3e\r\n    \x3c!-- </div> --\x3e\r\n</div>\r\n\r\n<div *ngIf="!organizationUnit" class="text-muted">\r\n    {{ "SelectAnOrganizationUnitToSeeMembers" | localize }}\r\n</div>\r\n\r\n<addMemberModal #addMemberModal (membersAdded)="addMembers($event)"></addMemberModal>'}}]);